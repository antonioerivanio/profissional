<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="content">

		<style>
		.formularios fieldset,.box-border {
			border: 1px solid #c6c6c6;
			padding: 15px 15px 0px 15px;
			padding-right: 0;
			overflow: auto;
			margin-bottom: 10px;
			min-height: 100px;
		}
		</style>

		<script>
		function openwindow()
		{
			nome = document.getElementById('form:nomeCompletoPessoa').value;
			if (nome.length > 2) {
				window.open("/srh/paginas/funcional/funcionalConsulta.faces?nome=" + nome,"mywindow","scrollbars=1,menubar=0,resizable=0,width=800,height=300");
			} else {
				alert('Digite pelo menos 3 caracteres para a pesquisa');
			}
		}
		</script>

		<div class="titulo-pagina">

			<h2>Exonerar Representação</h2>

		</div>

		<h:form id="form" styleClass="formularios">

			<fieldset>

				<legend>Dados Pessoais</legend>

				<br />

				<h:messages id="messages" infoClass="infoMessage" errorClass="errorMessage" />

				<div class="input-box box-10">
					<label for="">Matricula</label>
					<div class="conteiner">
						<h:inputText id="matricula" 
									 name="matricula"
									 styleClass="maskMatricula"
									 disabled="true"
									 value="#{exoneracaoFormBean.representacao.funcional.matricula}" >
						</h:inputText>
					</div>
				</div>

				<div class="input-box box-75">
					<label for="">Nome</label>
					<div class="conteiner">
						<h:inputText id="nomeCompletoPessoa" 
									 name="nomeCompletoPessoa"
									 disabled="true"
									 value="#{exoneracaoFormBean.representacao.funcional.nomeCompleto}" />
					</div>
				</div>

				<a id="form:Pesquisar" 
				   href="#" 
				   onclick="openwindow()"
				   class="bt-padrao fl mg-top-18">Pesquisar</a>

				<div class="input-box box-100">
					<label for="">Mãe</label>
					<div class="conteiner">
						<h:inputText id="mae" 
									 name="mae"
									 disabled="true"
									 value="#{exoneracaoFormBean.representacao.funcional.pessoal.nomeMae}" />
					</div>
				</div>

				<div class="input-box box-25">
					<label for="">CPF</label>
					<div class="conteiner">
						<h:inputText id="cpf" 
									 maxlength="14" 
									 styleClass="maskCpf"
									 converter="cpfConverter"
									 disabled="true"
									 value="#{exoneracaoFormBean.representacao.funcional.pessoal.cpf}" />
					</div>
				</div>

				<div class="input-box box-25">
					<label for="">RG</label>
					<div class="conteiner">
						<h:inputText id="rg"
									 maxlength="15"
									 disabled="true"
									 value="#{exoneracaoFormBean.representacao.funcional.pessoal.rg}" />
					</div>
				</div>

				<div class="input-box box-25">
					<label for="">Emissor</label>
					<div class="conteiner">
						<h:inputText id="rgEmissor"
									 maxlength="10"
									 disabled="true"
									 value="#{exoneracaoFormBean.representacao.funcional.pessoal.emissorRg}" />
					</div>
				</div>

				<div class="input-box box-25">
					<label for="">UF</label>
					<div class="conteiner">
						<h:inputText id="rgUf"
									 maxlength="2"
									 disabled="true"
									 value="#{exoneracaoFormBean.representacao.funcional.pessoal.ufEmissorRg.id}" />
					</div>
				</div>

			</fieldset>


			<!-- Exoneracao -->
			<fieldset>

				<legend>Exoneração</legend>

				<br />

				<div class="select-box box-25">
					<label for="">Tipo Publicação *</label>
					<div class="conteiner">
						<h:selectOneMenu id="tipoPublicacao"
										 converter="entityConverter"
										 value="#{exoneracaoFormBean.representacao.tipoPublicacaoSaida}">
							<f:selectItem id="selecioneTipoPublicacaoSaida" itemLabel="Selecione..." itemValue="" />
							<f:selectItems  id="comboTipoPublicacao" 
											value="#{exoneracaoFormBean.comboTipoPublicacao}"
											var="tipoPublicacao"
											itemValue="#{tipoPublicacao}"
											itemLabel="#{tipoPublicacao.descricao}"/>
						</h:selectOneMenu>
					</div>
				</div>
			
				<div class="input-box box-10">
					<label for="">Publicação *</label>
					<div class="conteiner">
						<h:inputText id="publicacao" 
									 name="publicacao"
									 converter="dateConverter" 
									 styleClass="maskData"
									 value="#{exoneracaoFormBean.representacao.doeFim}" 
									 maxlength="10" />
					</div>
				</div>
			
				<div class="select-box box-37">
					<label for="">Tipo Saida *</label>
					<div class="conteiner">
						<h:selectOneMenu id="tipoSaida"
										 converter="entityConverter"
										 value="#{exoneracaoFormBean.representacao.tipoMovimentoFim}">
							<f:selectItem id="selecioneTipoMovimentoSaida" itemLabel="Selecione..." itemValue="" />
							<f:selectItems 	id="comboTipoMovimentoSaida" 
											value="#{exoneracaoFormBean.comboTipoMovimentoSaida}"
											var="tipoSaida"
											itemValue="#{tipoSaida}"
											itemLabel="#{tipoSaida.descricao}"/>
						</h:selectOneMenu>
					</div>
				</div>

				<div class="input-box box-12">
					<label for="">Último dia trabalhado *</label>
					<div class="conteiner">
						<h:inputText id="dataFinal" 
									 name="dataFinal"
									 converter="dateConverter" 
									 styleClass="maskData"
									 value="#{exoneracaoFormBean.representacao.fim}" 
									 maxlength="10" />
					</div>
				</div>

			</fieldset>

			<h:commandButton action="#{exoneracaoFormBean.salvar}" value="Salvar" styleClass="bt-padrao fr" />
			<a href="/srh/paginas/funcional/exoneracaoList.faces" class="bt-voltar fr mg-right-10">Voltar</a>

		</h:form>

	</ui:define>
</ui:composition>
