<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	  xmlns="http://www.w3.org/1999/xhtml"      
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
 	  xmlns:c="http://java.sun.com/jsp/jstl/core"
 	  xmlns:a4j="http://richfaces.org/a4j"
 	  xmlns:t="http://myfaces.apache.org/tomahawk" >

	<ui:define name="content">

		<style>
		    .formularios fieldset,
		    .box-border {
		        border: 1px solid #c6c6c6;
		        padding: 15px 15px 0px 15px;
		        padding-right: 0;
		        overflow: auto;
		        margin-bottom: 10px;
		        min-height: 50px;
		    }
		</style>

		<script>
			function sugerirNomeCompleto()
			{
				document.getElementById('form:nomeCompleto').value = document.getElementById('form:nome').value;
				document.getElementById('form:abreviatura').focus();
			}
		</script>

		<div class="titulo-pagina">

			<h2>Dados Cadastrais</h2>

		</div>

         <h:form id="form" styleClass="formularios" enctype="multipart/form-data">

			<fieldset>

			<legend>Dados Pessoais</legend>
			
			<br/>

            <h:messages infoClass="infoMessage" errorClass="errorMessage" />

			<div class="input-box box-60">
				<label for="">Nome *</label>
				<div class="conteiner">
					<h:inputText id="nome"
								 value="#{pessoaBean.entidade.nome}"
								 maxlength="40"
								 onblur="sugerirNomeCompleto()" />    
				</div>
			</div>

			<div class="input-box box-15">
				<label for="">Abreviatura</label>
				<div class="conteiner">
					<h:inputText id="abreviatura"
								 value="#{pessoaBean.entidade.abreviatura}"
								 maxlength="25" />
				</div>
			</div>

			<div class="input-box box-75">
				<label for="">Nome Completo *</label>
				<div class="conteiner">
					<h:inputText id="nomeCompleto"
								 value="#{pessoaBean.entidade.nomeCompleto}"
								 maxlength="60" />    
				</div>
			</div>

			<div class="select-box box-25" style="clear: both">
				<label for="">Estado Civil</label>
				<div class="conteiner">
					<h:selectOneMenu id="estadoCivil" 
									 converter="entityConverter"
									 value="#{pessoaBean.entidade.estadoCivil}">
					  	<f:selectItem id="selecioneEstadoCivil" itemLabel="Selecione..."/>
					  	<f:selectItems 	id="comboEstadoCivil" 
					  					value="#{pessoaBean.comboEstadoCivil}"
					  					var="estadoCivil"
					  					itemValue="#{estadoCivil}"
					  					itemLabel="#{estadoCivil.descricao}"/>
					</h:selectOneMenu>
				</div>
			</div>

			<div class="select-box box-25">
				<label for="">Escolaridade</label>
				<div class="conteiner">
					<h:selectOneMenu id="escolaridade"
									 converter="entityConverter"
									 value="#{pessoaBean.entidade.escolaridade}">
					  	<f:selectItem id="selecioneEscolaridade" itemLabel="Selecione..."/>
					  	<f:selectItems 	id="comboEscolaridade" 
					  					value="#{pessoaBean.comboEscolaridade}"
					  					var="escolaridade"
					  					itemValue="#{escolaridade}"
					  					itemLabel="#{escolaridade.descricao}"/>
					</h:selectOneMenu>
				</div>
			</div>

			<div class="radios-group box-25">
				<h3>Sexo *</h3>
				<div class="conteiner">
					<div class="radio-box">
					<h:selectOneRadio id="sexo" 
									  value="#{pessoaBean.entidade.sexo}" >
						<f:selectItem id="M" itemLabel="Masculino" itemValue="M" />
						<f:selectItem id="F" itemLabel="Feminino" itemValue="F" />
					</h:selectOneRadio>
					</div>
				</div>
			</div>

			<div style="float: right; width: 265px; padding-bottom: 0.6px; margin-top: -50px">
				<a4j:mediaOutput element="img" cacheable="false" session="false"
                 				 createContent="#{pessoaBean.geraFoto}" mimeType="image/jpeg"  
                 				 id="imagem1" style="height:150px;width:112.5px;" />
				<br/>
				<t:inputFileUpload id="arquivo"		
	            	      		   value="#{pessoaBean.arquivo}"
	                	  		   storage="file" size="20"
	                  			   valueChangeListener="#{pessoaBean.uploadFoto}"
	                  			   onchange="submit()" />
			</div>


			<div class="input-box box-37">
				<label for="">Nome Mãe</label>
				<div class="conteiner">
					<h:inputText id="nomeMae"
								 maxlength="60"
								 value="#{pessoaBean.entidade.nomeMae}" />
				</div>
			</div>

			<div class="input-box box-38">
				<label for="">Nome Pai</label>
				<div class="conteiner">
					<h:inputText id="nomePai"
								 maxlength="60"
								 value="#{pessoaBean.entidade.nomePai}" />
				</div>
			</div>

			<div class="input-box box-37">
				<label for="">Naturalidade</label>
				<div class="conteiner">
					<h:inputText id="naturalidade"
								 maxlength="30"
								 value="#{pessoaBean.entidade.naturalidade}" />
				</div>
			</div>

			<div class="select-box box-10">
				<label for="">UF</label>
				<div class="conteiner">
					<h:selectOneMenu id="uf"
									 converter="entityConverter" 
									 value="#{pessoaBean.entidade.uf}">
					  	<f:selectItem id="selecioneUf"  itemLabel="Selecione..."/>
					  	<f:selectItems 	id="comboUf" 
					  					value="#{pessoaBean.comboUf}"
					  					var="uf"
					  					itemValue="#{uf}"
					  					itemLabel="#{uf.id}"/>
					</h:selectOneMenu>
				</div>
			</div>

			<div class="input-box box-14">
				<label for="">Data Nascimento</label>
				<div class="conteiner">
					<h:inputText id="dataNascimento" 
								 styleClass="maskData" 
								 converter="dateConverter"
								 value="#{pessoaBean.entidade.nascimento}" />
				</div>
			</div>

			<div class="input-box box-14">
				<label for="">Data Óbito</label>
				<div class="conteiner">
					<h:inputText id="dataObito" 
								 styleClass="maskData"
								 converter="dateConverter"
								 value="#{pessoaBean.entidade.obito}"  />
				</div>
			</div>

			<div class="select-box box-20">
				<label for="">Categoria</label>
				<div class="conteiner">
					<h:selectOneMenu id="categoria"
									 converter="entityConverter" 
									 value="#{pessoaBean.entidade.categoria}">
					  	<f:selectItem id="selecioneCategoria" itemLabel="Selecione..."/>
					  	<f:selectItems 	id="comboCategoria"
					  					value="#{pessoaBean.comboCategoria}"
					  					var="categoria"
					  					itemValue="#{categoria}"
					  					itemLabel="#{categoria.nome}"/>
					</h:selectOneMenu>
				</div>
			</div>

			</fieldset>



			<fieldset>

			<legend>Característica</legend>

			<br/>

			<div class="select-box box-50">
				<label for="">Biotipo</label>
				<div class="conteiner">
					<h:selectOneMenu id="biotipo"
									 converter="entityConverter" 
									 value="#{pessoaBean.entidade.raca}">
					  	<f:selectItem id="selecioneRaca"  itemLabel="Selecione..."/>
					  	<f:selectItems 	id="comboRaca" 
					  					value="#{pessoaBean.comboRaca}"
					  					var="biotipo"
					  					itemValue="#{biotipo}"
					  					itemLabel="#{biotipo.descricao}"/>
					</h:selectOneMenu>
				</div>
			</div>

			<div class="radios-group box-25">
				<h3>Tipo Sanguíneo</h3>
				<div class="conteiner">
					<div class="radio-box">
					<h:selectOneRadio id="tipoSangue" value="#{pessoaBean.entidade.tipoSangue}" >
						<f:selectItem id="A" itemLabel="A" itemValue="A" />
						<f:selectItem id="B" itemLabel="B" itemValue="B" />
						<f:selectItem id="AB" itemLabel="AB" itemValue="AB" />
						<f:selectItem id="O" itemLabel="O" itemValue="O" />
					</h:selectOneRadio>
					</div>
				</div>
			</div>

			<div class="radios-group box-15">
				<h3>Fato RH</h3>
				<div class="conteiner">
					<div class="radio-box">
					<h:selectOneRadio id="fatorRH" value="#{pessoaBean.entidade.fatorRH}" >
						<f:selectItem id="positivo" itemLabel="+" itemValue="+" />
						<f:selectItem id="negativo" itemLabel="-" itemValue="-" />
					</h:selectOneRadio>
					</div>
				</div>
			</div>

			</fieldset>



			<fieldset>

			<legend>Dependentes</legend>

			<br/>

			<div class="input-box box-25">
				<label for="">Salário Família</label>
				<div class="conteiner">
					<h:inputText id="salarioFamilia" 
								 maxlength="2" required="true" requiredMessage="Salário Família é obrigatório"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.qtdDepsf}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Imposto de Renda</label>
				<div class="conteiner">
					<h:inputText id="impostoRenda" 
								 maxlength="2" required="true" requiredMessage="Imposto de Renda é obrigatório"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.qtdDepir}" />
				</div>
			</div>
			
			<div class="input-box box-25">
				<label for="">Previdência</label>
				<div class="conteiner">
					<h:inputText id="previdencia" 
								 maxlength="2" required="true" requiredMessage="Previdência é obrigatório"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.qtdDepprev}" />
				</div>
			</div>

			</fieldset>



			<fieldset>

			<legend>Documentos</legend>

			<br/>

			<div class="input-box box-25">
				<label for="">RG</label>
				<div class="conteiner">
					<h:inputText id="rg" 
								 maxlength="15"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.rg}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Emissor</label>
				<div class="conteiner">
					<h:inputText id="emissor" 
								 maxlength="10"
								 value="#{pessoaBean.entidade.emissorRg}" />
				</div>
			</div>

			<div class="select-box box-10">
				<label for="">UF</label>
				<div class="conteiner">
					<h:selectOneMenu id="ufEmissor"
									 converter="entityConverter" 
									 value="#{pessoaBean.entidade.ufEmissorRg}">
					  	<f:selectItem id="selecioneUfEmissor" itemLabel="Selecione..."/>
					  	<f:selectItems 	id="comboUfEmissor"
					  					value="#{pessoaBean.comboUf}"
					  					var="ufEmissor"
					  					itemValue="#{ufEmissor}"
					  					itemLabel="#{ufEmissor.id}"/>
					</h:selectOneMenu>
				</div>
			</div>

			<div class="input-box box-15">
				<label for="">Data Emissão</label>
				<div class="conteiner">
					<h:inputText id="dataEmissaoRg" 
								 styleClass="maskData"
								 converter="dateConverter"
								 value="#{pessoaBean.entidade.dataEmissaoRg}"  />
				</div>
			</div>

			<br/><br/><br/><br/><br/>
 
			<div class="input-box box-25">
				<label for="">Titulo</label>
				<div class="conteiner">
					<h:inputText id="titulo" 
								 maxlength="12"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.tituloEleitoral}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Zona</label>
				<div class="conteiner">
					<h:inputText id="zona" 
								 maxlength="4"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.zonaEleitoral}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Seção</label>
				<div class="conteiner">
					<h:inputText id="secao" 
								 maxlength="4"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.secaoEleitoral}" />
				</div>
			</div>

			<br/><br/><br/><br/><br/>

			<div class="input-box box-25">
				<label for="">CPF *</label>
				<div class="conteiner">
					<h:inputText id="cpf" 
								 maxlength="14"
								 styleClass="maskCpf"
								 value="#{pessoaBean.entidade.cpf}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">PASEP</label>
				<div class="conteiner">
					<h:inputText id="pasep" 
								 maxlength="15"
								 styleClass="maskPasep"
								 value="#{pessoaBean.entidade.pasep}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Doc. Militar</label>
				<div class="conteiner">
					<h:inputText id="docMilitar" 
								 maxlength="30"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.documentoMilitar}" />
				</div>
			</div>

			</fieldset>



			<fieldset>

			<legend>Dados Bancários</legend>

			<br/>

			<div class="radios-group box-25">
				<h3>Tipo</h3>
				<div class="conteiner">
					<div class="radio-box">
					<h:selectOneRadio id="tipoContaBbd" value="#{pessoaBean.entidade.tipoContaBbd}" >
						<f:selectItem id="corrente" itemLabel="Conta Corrente" itemValue="1" />
						<f:selectItem id="poupanca" itemLabel="Poupança" itemValue="2" />
					</h:selectOneRadio>
					</div>
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Agência</label>
				<div class="conteiner">
					<h:inputText id="agenciaBbd" 
								 maxlength="6"
								 styleClass="maskAgencia"
								 value="#{pessoaBean.entidade.agenciaBbd}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Conta</label>
				<div class="conteiner">
					<h:inputText id="contaBbd" 
								 maxlength="9"
								 styleClass="maskConta"
								 value="#{pessoaBean.entidade.contaBbd}" />
				</div>
			</div>

			</fieldset>



			<fieldset>

			<legend>Endereço</legend>

			<br/>

			<div class="input-box box-75">
				<label for="">Endereço</label>
				<div class="conteiner">
					<h:inputText id="endereco" 
								 maxlength="40"
								 value="#{pessoaBean.entidade.endereco}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">No</label>
				<div class="conteiner">
					<h:inputText id="numero" 
								 maxlength="5"
								 onkeyup="SoNumeros(this)"
								 value="#{pessoaBean.entidade.numero}" />
				</div>
			</div>

			<div class="input-box box-50">
				<label for="">Complemento</label>
				<div class="conteiner">
					<h:inputText id="complemento" 
								 maxlength="15"
								 value="#{pessoaBean.entidade.complemento}" />
				</div>
			</div>

			<div class="input-box box-50">
				<label for="">Bairro</label>
				<div class="conteiner">
					<h:inputText id="bairro" 
								 maxlength="30"
								 value="#{pessoaBean.entidade.bairro}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">CEP</label>
				<div class="conteiner">
					<h:inputText id="cep" 
								 maxlength="9"
								 styleClass="maskCep"
								 value="#{pessoaBean.entidade.cep}" />
				</div>
			</div>
 
			<div class="select-box box-25">
				<label for="">Estado</label>
				<div class="conteiner">
					<h:selectOneMenu id="ufEndereco"
									 converter="entityConverter" 
									 value="#{pessoaBean.entidade.ufEndereco}">
					  	<f:selectItem id="selecioneUfEndereco" itemLabel="Selecione..."/>
					  	<f:selectItems 	id="comboUfEndereco"
					  					value="#{pessoaBean.comboUf}"
					  					var="ufEndereco"
					  					itemValue="#{ufEndereco}"
					  					itemLabel="#{ufEndereco.id}"/>
					</h:selectOneMenu>
				</div>
			</div>
 
			<div class="input-box box-50">
				<label for="">Município</label>
				<div class="conteiner">
					<h:inputText id="municipio"
								 maxlength="30" 
								 value="#{pessoaBean.entidade.municipio}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Tel. Residencial</label>
				<div class="conteiner">
					<h:inputText id="telefone" 
								 maxlength="14"
								 styleClass="maskTelefone"
								 value="#{pessoaBean.entidade.telefone}" />
				</div>
			</div>

			<div class="input-box box-25">
				<label for="">Tel. Celular</label>
				<div class="conteiner">
					<h:inputText id="celular"
								 maxlength="14"
								 styleClass="maskTelefone" 
								 value="#{pessoaBean.entidade.celular}" />
				</div>
			</div>

			<div class="input-box box-50">
				<label for="">Email</label>
				<div class="conteiner">
					<h:inputText id="email" 
								 maxlength="40"
								 value="#{pessoaBean.entidade.email}" />
				</div>
			</div>

			</fieldset>



			<fieldset>

			<legend>Ficha Antiga</legend>

			<br/>

			<div style="width: 265px; padding-bottom: 0.6px;">
				<t:inputFileUpload id="ficha"		
	            	      		   value="#{pessoaBean.ficha}"
	                	  		   storage="file" size="20"
	                  			   valueChangeListener="#{pessoaBean.uploadFicha}"
	                  			   />
			</div>

			</fieldset>

			<h:commandButton action="#{pessoaBean.salvar}" value="Salvar" styleClass="bt-padrao fr" />
			<a href="/srh/paginas/cadastros/pessoaList.faces" class="bt-voltar fr mg-right-10">Voltar</a>
			<a href="/srh/paginas/cadastros/pessoaForm.faces" class="bt-voltar fr mg-right-10">Limpar</a>

		</h:form>

	</ui:define>
</ui:composition>
