<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">


	<fieldset>
		<legend>#{titleTitular}</legend>
		<ui:fragment style="width: 100%; margin-bottom: 15px;" id="dados#{id}">

			<div class="input-box box-20 ">
				<label for="asCadValorPlano">Valor PLano R$: *</label>

				<div class="conteiner">
					<h:inputText required="true"
						requiredMessage="Obrigatório Valor Plano"
						value="#{beanAuxilioSaudeRequisicao.valorGastoPlanoSaude}"
						maxlength="20" styleClass="maskSalario">
						<f:convertNumber type="currency" currencySymbol="R$"
							locale="pt_br" />
					</h:inputText>
				</div>
			</div>

			<div class="select-box box-30">
				<label for="">Empresa Plano Saúde/Odonto * </label>

				<div class="conteiner">
					<h:selectOneMenu required="true"
						requiredMessage="Órgão é obrigatorio Saúde/Odonto"
						value="#{beanAuxilioSaudeRequisicao.pessoaJuridica}"
						converter="entityConverter">
						<f:selectItem itemLabel="Selecione..." itemValue="" />
						<f:selectItems
							value="#{auxilioSaudeFormBean.comboEmpresasCadastradas}"
							var="orgaoOrigem" itemValue="#{orgaoOrigem}"
							itemLabel="#{orgaoOrigem.nomeFantasia} - #{orgaoOrigem.razaoSocial}" />
						<a4j:ajax event="change" execute="@this"></a4j:ajax>
					</h:selectOneMenu>
				</div>
			</div>

			<br></br>


			<h:panelGrid columns="3">
				<h:commandButton rendered="#{isExibidoBotaoNovo}" id="bnt_#{id}"
					action="/paginas/tabelas/pessoaJuridicaForm.faces?faces-redirect=true" value="Novo"
					styleClass="bt-padrao">					
				</h:commandButton>

				<h:commandButton
					actionListener="#{auxilioSaudeFormBean.adicionarDadosTitular(beanAuxilioSaudeRequisicao, isTitular)}"
					value="Adicionar" styleClass="bt-padrao">
					<a4j:ajax execute="dados#{id}"
						render="form:lista form:asCadDtDependente"></a4j:ajax>
				</h:commandButton>

				<!-- Exibe informações do botão Novo quando usuário passar o mouse sobre ele -->				
				<rich:tooltip styleClass="tooltip" layout="block"
					target="bnt_#{id}">
					<span style="white-space: nowrap">o Botão Novo <strong>
							Adiciona uma nova empresa </strong>
					</span>
				</rich:tooltip>
				

			</h:panelGrid>

		</ui:fragment>
	</fieldset>


	<fieldset
		style="display: flex; align-items: center; padding-bottom: 10px;">
		<legend>Comprovante</legend>

		<ui:fragment
			rendered="#{LoginBean.anyGranted('ROLE_FOLGA_INSERIR,ROLE_FOLGA_ALTERAR')}">
			<rich:fileUpload styleClass="fileUploadFicha" style="display: none"
				fileUploadListener="#{folgaFormBean.uploadComprovante}"
				acceptedTypes="pdf"
				ontyperejected="alerta('Somente arquivos PDF são aceitos.');"
				maxFilesQuantity="1" immediateUpload="true"
				onsizerejected="alerta('O tamanho do arquivo excedeu o limite do sistema.');">
				<a4j:ajax event="uploadcomplete" execute="@none"
					render="form:fileUpload, form:comprovanteFolga, messages" />
			</rich:fileUpload>

			<span class="bt-upload fl"
				onclick="document.querySelector('.fileUploadFicha input').click()">
				Selecionar arquivo </span>
		</ui:fragment>

		<h:commandLink styleClass="link-arquivo"
			value="Clique aqui para visualizar"
			action="#{folgaFormBean.comprovanteFolga}" target="_blank"
			rendered="#{folgaFormBean.entidade.caminhoComprovante != null}" />
	</fieldset>

</ui:composition>
