<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="content">

		<style>
.foto-pessoal {
	cursor: pointer;
}

.foto-pessoal img {
	max-width: 136px;
}

.exercicioInput {
	font-size: 12px;
	color: #343434;
	border: 0;
	width: 100%;
	padding: 8px 6px;
	box-sizing: border-box;
	border-radius: 4px;
	text-align: right;
	border: 1px solid #c5c5c5;
}

.tabela-dados-dependentes {
	display: none
}
</style>

		<h:outputScript>
		function exibirCamposDependentes(){
			$(".tabela-dados-dependentes").show();  	
		}
	</h:outputScript>

		<div class="titulo-pagina">

			<h2>Cadastro - Requerimento Auxilio Saúde</h2>

		</div>

		<span class="label-campos-obrigarotios"><i>* Campos
				Obrigatórios</i></span>


		<a4j:outputPanel ajaxRendered="true">
			<h:messages id="messages" infoClass="infoMessage"
				errorClass="errorMessage" />
		</a4j:outputPanel>

		<h:form id="form" styleClass="formularios">


			<div class="input-box">
				<div class="input-box box-25">
					<label for="asCadNome">Nome</label>
					<h:outputText name="asCadNome"
						value="#{auxilioSaudeFormBean.entidade.funcional.nomeCompleto}" />
				</div>

				<div class="input-box box-15">
					<label for="asCadMat">Matricula</label>
					<h:outputText name="asCadMat"
						value="#{auxilioSaudeFormBean.entidade.funcional.matricula}"></h:outputText>
				</div>

				<div class="input-box box-15">
					<label for="asCadLot">Lotação</label>
					<h:outputText name="asCadLot"
						value="#{auxilioSaudeFormBean.entidade.funcional.setor.nome}"></h:outputText>
					<br></br>
				</div>

				<div class="input-box box-15">
					<label for="asCadAtivo">Servidor Ativo</label>
					<h:outputText name="asCadAtivo" value="Sim"></h:outputText>
					<br></br>
				</div>

				<div class="input-box box-25">
					<label for="asCadCargo">Cargo/Função</label>
					<h:outputText name="asCadCargo"
						value="#{auxilioSaudeFormBean.entidade.funcional.ocupacao.nomenclatura}"></h:outputText>
					<br></br>
				</div>

			</div>

			<!-- campos para entrada de dados Titular -->
			<ui:fragment>
				<ui:include src="/paginas/cadastros/auxilioSaudeInputs.xhtml">
					<ui:param name="beanAuxilioSaudeRequisicao"
						value="#{auxilioSaudeFormBean.entidade.beanAuxilioSaudeRequisicaoTitular}"></ui:param>
					<ui:param name="id" value="1"></ui:param>
					<ui:param name="isTitular" value="true"></ui:param>
					<ui:param name="titleTitular" value="Dados Titular"></ui:param>
					<ui:param name="isExibidoBotaoNovo" value="true"></ui:param>
					<ui:param name="isExibidoBotaoAdicionar" value="true"></ui:param>

				</ui:include>
			</ui:fragment>

			<div class="tabela-dados">

				<rich:dataTable id="lista" var="item"
					rows="#{auxilioSaudeFormBean.entidade.auxilioSaudeRequisicaoList.size()}"
					value="#{auxilioSaudeFormBean.entidade.auxilioSaudeRequisicaoList}">

					<h:column>
						<f:facet name="header">
		                            EMPRESA
		                        </f:facet>

						<h:outputText value="#{item.pessoaJuridica.nomeFantasia}" />
					</h:column>

					<h:column>
						<f:facet name="header">
		                            Valor Gasto (R$)
		                        </f:facet>

						<h:outputText value="#{item.valorGastoPlanoSaude}" />
					</h:column>

					<h:column>
						<center>
							<f:facet name="header">
		                          Anexos
		                        </f:facet>

							<h:outputLink actionListener="#{auxilioSaudeFormBean.adicionar}">
								<h:graphicImage url="/img/attached.png"
									style="cursor: pointer; width: 24px;height: 24px;"></h:graphicImage>
							</h:outputLink>
						</center>
					</h:column>

				</rich:dataTable>
			</div>

			<div class="select-box box-30">
				<label for="">Dependentes </label>
				<div class="conteiner">
					<h:selectOneMenu id="dependente" converter="entityConverter"
						onchange="exibirCamposDependentes()"
						value="#{auxilioSaudeFormBean.entidade.dependenteSelecionado}">
						<f:selectItem id="selecioneDependente" itemLabel="Selecione..." />
						<f:selectItems id="comboDependente"
							value="#{auxilioSaudeFormBean.entidade.dependenteList}"
							var="beanDep" itemValue="#{beanDep}"
							itemLabel="#{beanDep.dependente.nomeCompleto}" />
						<a4j:ajax execute="@this"></a4j:ajax>
					</h:selectOneMenu>
				</div>
			</div>


			<div class="tabela-dados tabela-dados-dependentes">

				<!-- campos para entrada de dados Dependente -->
				<ui:fragment id="asFragmentDep"
					rendered="#{not empty auxilioSaudeFormBean.entidade.dependenteList}">
					<ui:include src="/paginas/cadastros/auxilioSaudeInputs.xhtml">
						<ui:param name="beanAuxilioSaudeRequisicao"
							value="#{auxilioSaudeFormBean.entidade.beanAuxilioSaudeRequisicaoDependente}"></ui:param>
						<ui:param name="id" value="2"></ui:param>
						<ui:param name="isTitular" value="false"></ui:param>
						<ui:param name="titleTitular" value="Dados Dependente"></ui:param>
						<ui:param name="isExibidoBotaoNovo" value="false"></ui:param>
						<ui:param name="isExibidoBotaoAdicionar" value="true"></ui:param>
					</ui:include>
				</ui:fragment>

				<fiedset> <legend class="titulo-dependente">
					<h2>Lista de Dependentes</h2>
				</legend> <rich:dataTable id="asCadDtDependente" var="item"
					rows="#{auxilioSaudeFormBean.entidade.dependenteSelecionado.auxilioSaudeRequisicaoList.size()}"
					value="#{auxilioSaudeFormBean.entidade.dependenteSelecionado.auxilioSaudeRequisicaoList}"
					noDataLabel="Nenhum Dependente foi selecionado">

					<h:column>
						<f:facet name="header"> 
							Nome 
						</f:facet>
						<h:outputText
							value="#{item.dependenteSelecionado.dependente.nomeCompleto}" />
					</h:column>

					<h:column>
						<f:facet name="header">
							Valor Gasto (R$)
						</f:facet>
						<h:outputText value="#{item.valorGastoPlanoSaude}" />
					</h:column>

					<h:column>
						<f:facet name="header">
							Empresa Plano Saúde
						</f:facet>
						<h:outputText value="#{item.pessoaJuridica.nomeFantasia}" />
					</h:column>

				</rich:dataTable> </fiedset>
			</div>

			<fieldset>
				<legend>
					<strong> <span style="color: #024ffb;important!">DECLARAÇÃO</span></strong>
				</legend>

				<div class="conteiner">
					<p>
						<h:outputLabel value="#{auxilioSaudeFormBean.entidade.declaracao}"></h:outputLabel>
					</p>
				</div>

				<div class="conteiner" style="padding: 15px">
					<div class="radio-box box-25">
						<h:selectOneRadio id="asCadAcordo" value="">
							<f:selectItem itemLabel="Concordo" itemValue="Sim" />
						</h:selectOneRadio>
					</div>
				</div>
			</fieldset>

			<div class="textarea-box box-100">
				<label for="">Observação</label>
				<div class="conteiner">
					<h:inputTextarea id="asCadObs"
						value="Campo obrigatório apenas para área gestora"
						onkeyup="this.value = this.value.substring(0, 254);" />
				</div>
			</div>


			<div class="bt-conteiner">
				<!-- 
				<ui:fragment rendered="#{auxilioSaudeFormBean.cadastroAindaNaoFinalizado()}">
					<a onclick="finalizaRecadastramento();" href="#"
						class="bt-padrao fr">Finalizar</a>
					<a4j:jsFunction name="finalizarRecadastramento"
						action="#{auxilioSaudeFormBean.salvar(true)}" render="form">
					</a4j:jsFunction>
				</ui:fragment>
 -->
				<ui:fragment>
					<h:commandButton id="salvar"
						action="#{auxilioSaudeFormBean.salvar(false)}" value="Salvar"
						styleClass="bt-padrao fr mg-right-10" />
				</ui:fragment>

				<a href="/srh/paginas/cadastros/pessoaList.faces"
					class="bt-voltar fr mg-right-10 mg-bottom-10">Voltar</a>

			</div>


		</h:form>

	</ui:define>

</ui:composition>
