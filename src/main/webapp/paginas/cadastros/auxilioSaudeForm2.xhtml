<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="content">

		<style>
.foto-pessoal {
	cursor: pointer;
}

.foto-pessoal img {
	max-width: 136px;
}

.exercicioInput {
	font-size: 12px;
	color: #343434;
	border: 0;
	width: 100%;
	padding: 8px 6px;
	box-sizing: border-box;
	border-radius: 4px;
	text-align: right;
	border: 1px solid #c5c5c5;
}
</style>

		<div class="titulo-pagina">

			<h2>Cadastro - Requerimento Auxilio Saúde</h2>

		</div>

		<span class="label-campos-obrigarotios"><i>* Campos
				Obrigatórios</i></span>
	
		
			<a4j:outputPanel ajaxRendered="true" >
            <h:messages id="messages" infoClass="infoMessage" errorClass="errorMessage" />
		</a4j:outputPanel>

		<h:form id="form" styleClass="formularios">

			<ui:fragment id="asCadAuxilioSaude">
				<div class="input-box">
					<div class="input-box box-25">
						<label for="asCadNome">Nome</label>
						<h:outputText name="asCadNome"
							value="#{auxilioSaudeFormBean.entidade.funcional.nomeCompleto}" />
					</div>

					<div class="input-box box-15">
						<label for="asCadMat">Matricula</label>
						<h:outputText name="asCadMat"
							value="#{auxilioSaudeFormBean.entidade.funcional.matricula}"></h:outputText>
					</div>

					<div class="input-box box-15">
						<label for="asCadLot">Lotação</label>
						<h:outputText name="asCadLot"
							value="#{auxilioSaudeFormBean.entidade.funcional.setor.nome}"></h:outputText>
						<br></br>
					</div>

					<div class="input-box box-15">
						<label for="asCadAtivo">Servidor Ativo</label>
						<h:outputText name="asCadAtivo" value="Sim"></h:outputText>
						<br></br>
					</div>

					<div class="input-box box-25">
						<label for="asCadCargo">Cargo/Função</label>
						<h:outputText name="asCadCargo"
							value="#{auxilioSaudeFormBean.entidade.funcional.ocupacao.nomenclatura}"></h:outputText>
						<br></br>
					</div>
				</div>
				<fieldset>
					<legend>Dados do Requerente</legend>
					<div style="width: 100%; margin-bottom: 15px;">

						<div class="input-box box-20 ">
							<label for="asCadValorPlano">Valor PLano R$: *</label>
							<div class="conteiner">
								<h:inputText id="asCadValorPlano"
									required="true"
									requiredMessage="Obrigatório Valor Plano"
									value="#{auxilioSaudeFormBean.entidade.valorGastoPlanoSaude}"
									maxlength="20" styleClass="maskSalario" >
									<f:convertNumber type="currency" currencySymbol="R$" locale="pt_br"/>
								</h:inputText>
							</div>
						</div>

						<div class="select-box box-50">
							<label for="">Empresa Plano Saúde/Odonto * </label>
							<div class="conteiner">
								<h:selectOneMenu id="asPessoaJuridica" required="true"
									requiredMessage="Órgão é obrigatorio Saúde/Odonto"
									value="#{auxilioSaudeFormBean.entidade.pessoaJuridica}"
									converter="entityConverter">
									<f:selectItem id="selecioneOrgaoOrigemsada"
										itemLabel="Selecione..." itemValue="" />
									<f:selectItems id="comboLeiOrgaoOrigemasdas"
										value="#{auxilioSaudeFormBean.comboEmpresasCadastradas}"
										var="orgaoOrigem" itemValue="#{orgaoOrigem}"
										itemLabel="#{orgaoOrigem.nomeFantasia} - #{orgaoOrigem.razaoSocial}" />
									<a4j:ajax event="change" execute="@this"></a4j:ajax>
								</h:selectOneMenu>
							</div>
						</div>

						<br></br>
						<h:commandButton id="Adicionar"
							actionListener="#{auxilioSaudeFormBean.adicionar}" value="Adicionar"
							styleClass="bt-padrao">
							<a4j:ajax execute="asCadValorPlano asPessoaJuridica asCadAuxilioSaude"></a4j:ajax>
						</h:commandButton>


		 					<a4j:repeat value="#{auxilioSaudeFormBean.entidade.auxilioSaudeRequisicaoList}" var="cap" rows="15" id="repeat">
							  <f:facet name="header">
		                            <h:panelGroup>
		                                <h:graphicImage value="#{cap.stateFlag}" alt="flag" />
		                                <h:outputText value="#{cap.valorGastoPlanoSaude}" style="font-weight:bold; margin-left: 4px" />
		                            </h:panelGroup>
		                        </f:facet>
							 </a4j:repeat>
							
						<div class="tabela-dados">
							<fiedset> 
								<legend class="titulo-dependente">
									<h2>Dados Cadastrado Colaborador Titular</h2>
								</legend> 
							
					
							
								<rich:dataTable id="asCadDtTitular" var="item"									
									value="#{auxilioSaudeFormBean.entidade.auxilioSaudeRequisicaoList}"
									noDataLabel="Nenhum Dependente foi selecionado">
	
									<rich:column id="col2" headerClass="cel-25">
										<f:facet name="header"> Empresa Plano de Saúde </f:facet>
										<center>
											<h:outputText id="item2" value="#{item.pessoaJuridica.nomeFantasia}"
												styleClass="cel-25">												
											</h:outputText>
										</center>
									</rich:column>
									
									<rich:column id="col3" headerClass="cel-50">
										<f:facet name="header"> Valor Plano R$</f:facet>
										<h:outputText id="item3" value="#{item.valorGastoPlanoSaude}" styleClass="cel-50" />
									</rich:column>
									
									<rich:column id="col4"
										rendered="#{not LoginBean.anyGranted('ROLE_PESSOA_ALTERAR')}">
										<f:facet name="header">
										                            DETALHAR
										                        </f:facet>
										<h:commandLink id="detalhar" value="Detalhar"
											action="#{auxilioSaudeFormBean.editar}"
											styleClass="ico-detail">
											<f:setPropertyActionListener
												target="#{auxilioSaudeFormBean.entidade}" value="#{item}" />
										</h:commandLink>
									</rich:column>
									<rich:column id="col5"
										rendered="#{LoginBean.anyGranted('ROLE_PESSOA_ALTERAR')}">
										<f:facet name="header">
										                            EDITAR
										                        </f:facet>
										<h:commandLink id="editar" value="Editar"
											action="#{auxilioSaudeFormBean.editar}"
											styleClass="ico-editar">
											<f:setPropertyActionListener
												target="#{auxilioSaudeFormBean.entidade}" value="#{item}" />
										</h:commandLink>
									</rich:column>
									<rich:column id="col6"
										rendered="#{LoginBean.anyGranted('ROLE_PESSOA_EXCLUIR')}">
										<f:facet name="header">
										                            EXCLUIR
										                        </f:facet>
										<a4j:commandLink id="excluir" value="Excluir"
											styleClass="ico-delete" onclick="alertaExclusao();"
											execute="@this">
											<f:setPropertyActionListener
												target="#{auxilioSaudeFormBean.entidade}" value="#{item}" />
										</a4j:commandLink>
										<a4j:jsFunction name="excluir"
											action="#{auxilioSaudeFormBean.excluir}" render="form" />
									</rich:column>
	
								</rich:dataTable> <rich:dataScroller id="scrollerTitular" for="asCadDtTitular"
									stepControls="hide" renderIfSinglePage="false"
									page="#{auxilioSaudeFormBean.pagina}" /> 
							</fiedset>
						</div>


						<div class="tabela-dados">
							<fiedset> <legend class="titulo-dependente">
								<h2>Lista de Dependentes</h2>
							</legend> <rich:dataTable id="asCadDtDependente" var="item"
								rows="#{auxilioSaudeFormBean.dataModel.pageSize}"
								value="#{auxilioSaudeFormBean.dataModel}"
								noDataLabel="Nenhum Dependente foi selecionado">

								<rich:column id="col2" headerClass="cel-25">
									<f:facet name="header">
										                            CPF
										                        </f:facet>
									<center>
										<h:outputText id="item2" value="#{item.cpf}"
											styleClass="cel-25">
											<f:converter converterId="cpfConverter" />
										</h:outputText>
									</center>
								</rich:column>
								<rich:column id="col3" headerClass="cel-50">
									<f:facet name="header">
									                            Nome
									                        </f:facet>
									<h:outputText id="item3" value="#{item.nomeCompleto}"
										styleClass="cel-50" />
								</rich:column>
								<rich:column id="col4"
									rendered="#{not LoginBean.anyGranted('ROLE_PESSOA_ALTERAR')}">
									<f:facet name="header">
									                            DETALHAR
									                        </f:facet>
									<h:commandLink id="detalhar" value="Detalhar"
										action="#{auxilioSaudeFormBean.editar}"
										styleClass="ico-detail">
										<f:setPropertyActionListener
											target="#{auxilioSaudeFormBean.entidade}" value="#{item}" />
									</h:commandLink>
								</rich:column>
								<rich:column id="col5"
									rendered="#{LoginBean.anyGranted('ROLE_PESSOA_ALTERAR')}">
									<f:facet name="header">
									                            EDITAR
									                        </f:facet>
									<h:commandLink id="editar" value="Editar"
										action="#{auxilioSaudeFormBean.editar}"
										styleClass="ico-editar">
										<f:setPropertyActionListener
											target="#{auxilioSaudeFormBean.entidade}" value="#{item}" />
									</h:commandLink>
								</rich:column>
								<rich:column id="col6"
									rendered="#{LoginBean.anyGranted('ROLE_PESSOA_EXCLUIR')}">
									<f:facet name="header">
									                            EXCLUIR
									                        </f:facet>
									<a4j:commandLink id="excluir" value="Excluir"
										styleClass="ico-delete" onclick="alertaExclusao();"
										execute="@this">
										<f:setPropertyActionListener
											target="#{auxilioSaudeFormBean.entidade}" value="#{item}" />
									</a4j:commandLink>
									<a4j:jsFunction name="excluir"
										action="#{auxilioSaudeFormBean.excluir}" render="form" />
								</rich:column>

							</rich:dataTable> <rich:dataScroller id="scroller" for="asCadDtDependente"
								stepControls="hide" renderIfSinglePage="false"
								page="#{auxilioSaudeFormBean.pagina}" /> </fiedset>
						</div>


						<fieldset>
							<legend>
								<strong>DECLARAÇÃO</strong>
							</legend>

							<div class="conteiner">
								<p>
									<h:outputLabel
										value="#{auxilioSaudeFormBean.entidade.declaracao}"></h:outputLabel>
								</p>
							</div>

							<div class="conteiner" style="padding: 15px">
								<div class="radio-box box-25">
									<h:selectOneRadio id="asCadAcordo" value="">
										<f:selectItem itemLabel="Concordo" itemValue="Sim" />
									</h:selectOneRadio>
								</div>
							</div>
						</fieldset>


						<div class="textarea-box box-100">
							<label for="">Observação</label>
							<div class="conteiner">
								<h:inputTextarea id="asCadObs"
									value="Campo obrigatório apenas para área gestora"
									onkeyup="this.value = this.value.substring(0, 254);" />
							</div>
						</div>
					</div>
				</fieldset>

			</ui:fragment>



			<div class="bt-conteiner">
				<!-- 
				<ui:fragment rendered="#{auxilioSaudeFormBean.cadastroAindaNaoFinalizado()}">
					<a onclick="finalizaRecadastramento();" href="#"
						class="bt-padrao fr">Finalizar</a>
					<a4j:jsFunction name="finalizarRecadastramento"
						action="#{auxilioSaudeFormBean.salvar(true)}" render="form">
					</a4j:jsFunction>
				</ui:fragment>
 -->
				<ui:fragment>
					<h:commandButton id="salvar"
						action="#{auxilioSaudeFormBean.salvar(false)}" value="Salvar"
						styleClass="bt-padrao fr mg-right-10" />
				</ui:fragment>

				<a href="/srh/paginas/cadastros/pessoaList.faces"
					class="bt-voltar fr mg-right-10 mg-bottom-10">Voltar</a>

			</div>

		</h:form>

	</ui:define>

</ui:composition>
