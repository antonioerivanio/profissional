<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	  xmlns="http://www.w3.org/1999/xhtml"      
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
 	  xmlns:c="http://java.sun.com/jsp/jstl/core"
 	  xmlns:a4j="http://richfaces.org/a4j"
 	  xmlns:t="http://myfaces.apache.org/tomahawk"
 	  xmlns:rich="http://richfaces.org/rich" >

	<ui:define name="content">

		<style>
		   .fichaAntigaLink{
		    	font-size: 12px;
			    font-weight: bold;
			    color: #505050;
			   	margin-left: 10px;
			    text-decoration: none;
		    }
		    input[type='file']{
		    	border: 1px solid #c6c6c6;
    			padding: 4px 5px;
    			margin-bottom: 10px;
    			max-width: 100%;
				box-sizing: border-box;
				background: white;
				color: #999;
		    }
		    .foto-pessoal {
		    	position: absolute;
			    right: 70px;
			    top: 20px;
			    cursor: pointer;
		    }
		    .foto-pessoal img {
		    	max-width: 136px;
		    }
		</style>		

		<div class="titulo-pagina">

			<h2>Dados Cadastrais</h2>

		</div>
				
		<span class="label-campos-obrigarotios"><i>* Campos Obrigatórios</i></span>
		
		<!--  
		                 				 style="height: 150px; width: 107px; margin-bottom: 10px;"<ui:fragment rendered="#{pessoaBean.ehServidor()}" >
			<div class="mensagem-alerta">
				<p><b>Importante!</b> Caso verifique alguma discrepância nos dados cadastrais não editáveis, favor entrar em contato com a Gerência de Atos Funcionais.</p>
			</div>				
		</ui:fragment> -->
		
		<a4j:outputPanel ajaxRendered="true" >
            <h:messages infoClass="infoMessage" errorClass="errorMessage" />
		</a4j:outputPanel>

         <h:form id="form" styleClass="formularios" enctype="multipart/form-data">

			<rich:tabPanel switchType="client">
			
				<rich:tab header="Dados Pessoais">					
								
					<ui:fragment rendered="#{not pessoaBean.ehServidor()}">
						<div class="select-box box-25">
							<label for="">Categoria *</label>
							<div class="conteiner">
								<h:selectOneMenu id="categoria"
												 converter="entityConverter" 
												 value="#{pessoaBean.entidade.categoria}"
												 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}">
								  	<f:selectItem id="selecioneCategoria" itemLabel="Selecione..."/>
								  	<f:selectItems 	id="comboCategoria"
								  					value="#{pessoaBean.comboCategoria}"
								  					var="categoria"
								  					itemValue="#{categoria}"
								  					itemLabel="#{categoria.nome}"/>
								</h:selectOneMenu>
							</div>
						</div>					
					</ui:fragment>
					
					<div class="foto-pessoal">
						<label for="">Foto</label>
						<div>
							<a4j:mediaOutput element="img"
			                 				 createContent="#{imageBean.geraFoto}" 
			                 				 mimeType="image/jpeg"
			                 				 onclick="document.getElementById('form:fotoUpload').click()" />
							<t:inputFileUpload 	id="fotoUpload"
												style="display: none"		
				            	      		    value="#{pessoaBean.foto}"
				                	  		    storage="file"
				                  			    valueChangeListener="#{pessoaBean.uploadFoto}"
				                  			    onchange="submit()"
				                  			    rendered="#{pessoaBean.temPermisssaoParaAlterar()}" />
						</div>			                  			   
					</div>		
					
					<div class="input-box box-60 clr">
						<label for="">Nome *</label>
						<div class="conteiner">
							<h:inputText id="nomeCompleto"
										 value="#{pessoaBean.entidade.nomeCompleto}"
										 maxlength="70" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>    
						</div>
					</div>
					
					
					<div class="input-box box-20">
						<label for="">Abreviatura</label>
						<div class="conteiner">
							<h:inputText id="abreviatura"
										 value="#{pessoaBean.entidade.abreviatura}"
										 maxlength="25" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>
		
					<div class="input-box box-40">
						<label for="">Nome Mãe</label>
						<div class="conteiner">
							<h:inputText id="nomeMae"
										 maxlength="60"
										 value="#{pessoaBean.entidade.nomeMae}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>
		
					<div class="input-box box-40">
						<label for="">Nome Pai</label>
						<div class="conteiner">
							<h:inputText id="nomePai"
										 maxlength="60"
										 value="#{pessoaBean.entidade.nomePai}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>									
		
					<div class="select-box box-15 clr">
						<label for="sexo">Sexo *</label>
						<div class="conteiner">
							<h:selectOneMenu id="sexo" 
											 value="#{pessoaBean.entidade.sexo}"
											 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}">							  
								<f:selectItem id="sexo0" itemLabel="Selecione..." itemValue=""/>
								<f:selectItem id="sexo1" itemLabel="Masculino" itemValue="M"/>
								<f:selectItem id="sexo2" itemLabel="Feminino" itemValue="F" />																	
							</h:selectOneMenu>
						</div>
					</div>
					
					
					<div class="input-box box-10">
						<label for="">Data Nasc. *</label>
						<div class="conteiner">
							<h:inputText id="dataNascimento" 
										 styleClass="maskData" 
										 converter="dateConverter"
										 value="#{pessoaBean.entidade.nascimento}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>										
					
					<div class="select-box box-20">
						<label for="">País Nascimento *</label>
						<div class="conteiner">
							<h:selectOneMenu id="paisNascto"
											 converter="entityConverter"
											 value="#{pessoaBean.entidade.paisNascimento}"
											 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}">
							  	<f:selectItem id="selecionePaisNascto"  itemLabel="Selecione..."/>
							  	<f:selectItems id="comboPaisNascimento"
							  				   value="#{pessoaBean.comboPais}"
							  				   var="pais"
							  				   itemValue="#{pais}"
							  				   itemLabel="#{pais.descricao}"/>							  	
							</h:selectOneMenu>							
						</div>
					</div>					
					
					<div class="select-box box-20">
						<label for="">País Nacionalidade *</label>
						<div class="conteiner">
							<h:selectOneMenu id="paisNac"
											 converter="entityConverter"
											 value="#{pessoaBean.entidade.paisNacionalidade}"											 
											 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}">
							  	<f:selectItem id="selecionePaisNac"  itemLabel="Selecione..."/>
							  	<f:selectItems id="comboPaisNacionalidade"
							  				   value="#{pessoaBean.comboPais}"
							  				   var="pais"
							  				   itemValue="#{pais}"
							  				   itemLabel="#{pais.descricao}"/>
							  	
							</h:selectOneMenu>
						</div>
					</div>		
		
					<div class="select-box box-15">
						<label for="">UF *</label>
						<div class="conteiner">
							<h:selectOneMenu id="uf"
											 converter="entityConverter" 
											 value="#{pessoaBean.entidade.uf}"
											 disabled="#{not pessoaBean.podeAlterar()}">
							  	<f:selectItem id="selecioneUf"  itemLabel="Selecione..."/>
							  	<f:selectItems 	id="comboUf" 
							  					value="#{pessoaBean.comboUf}"
							  					var="uf"
							  					itemValue="#{uf}"
							  					itemLabel="#{uf.id}"/>
							  	<a4j:ajax 	 event="change"							  	            
							  	             render="municipioNaturalidade" />
							</h:selectOneMenu>
						</div>
					</div>
					
					<div class="select-box box-20">
						<label for="">Naturalidade *</label>
						<div class="conteiner">
							<h:selectOneMenu id="municipioNaturalidade"
											 converter="entityConverter" 
											 value="#{pessoaBean.entidade.municipioNaturalidade}"
											 disabled="#{not pessoaBean.podeAlterar()}">
							  	<f:selectItem id="selecioneMunicipioNaturalidade"  itemLabel="Selecione..."/>
							  	<f:selectItems 	id="comboMunicipioNaturalidade" 
							  					value="#{pessoaBean.comboMunicipioNaturalidade}"
							  					var="municipio"
							  					itemValue="#{municipio}"
							  					itemLabel="#{municipio.nome}"/>
							</h:selectOneMenu>
						</div>
					</div>
					
					
					<div class="select-box box-25 clr">
						<label for="">Estado Civil</label>
						<div class="conteiner">
							<h:selectOneMenu id="estadoCivil" 
											 converter="entityConverter"
											 value="#{pessoaBean.entidade.estadoCivil}"
											 disabled="#{not pessoaBean.podeAlterar()}">
							  	<f:selectItem id="selecioneEstadoCivil" itemLabel="Selecione..."/>
							  	<f:selectItems 	id="comboEstadoCivil" 
							  					value="#{pessoaBean.comboEstadoCivil}"
							  					var="estadoCivil"
							  					itemValue="#{estadoCivil}"
							  					itemLabel="#{estadoCivil.descricao}"/>
							</h:selectOneMenu>
						</div>
					</div>
		
					<div class="select-box box-20">
						<label for="">Escolaridade *</label>
						<div class="conteiner">
							<h:selectOneMenu id="escolaridade"
											 converter="entityConverter"
											 value="#{pessoaBean.entidade.escolaridade}"
											 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}">
							  	<f:selectItem id="selecioneEscolaridade" itemLabel="Selecione..."/>
							  	<f:selectItems 	id="comboEscolaridade" 
							  					value="#{pessoaBean.comboEscolaridade}"
							  					var="escolaridade"
							  					itemValue="#{escolaridade}"
							  					itemLabel="#{escolaridade.descricao}"/>
							</h:selectOneMenu>
						</div>
					</div>
					
					<ui:fragment class="box-55" rendered="#{not pessoaBean.ehServidor()}">
					
						<div class="input-box box-45">
							<label for="">Nome Social</label>
							<div class="conteiner">
								<h:inputText id="nomeSocial"
											 value="#{pessoaBean.entidade.nomeSocial}"
											 maxlength="70" 
											 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>    
							</div>
						</div>
						
						<div class="input-box box-10">
							<label for="">Data Óbito</label>
							<div class="conteiner">
								<h:inputText id="dataObito" 
											 styleClass="maskData"
											 converter="dateConverter"
											 value="#{pessoaBean.entidade.obito}"  
											 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
							</div>
						</div>
						
					</ui:fragment>										
					
					<ui:fragment rendered="#{not pessoaBean.ehServidor()}">
			
						<fieldset class="clr">
		
							<legend>Ficha Antiga</legend>
							
							<ui:fragment rendered="#{pessoaBean.temPermisssaoParaAlterar()}">	
								<t:inputFileUpload id="ficha"								   						
					            	      		   value="#{pessoaBean.ficha}"
					                	  		   storage="file" size="20"
					                  			   valueChangeListener="#{pessoaBean.uploadFicha}"
					                  			   disabled="#{not pessoaBean.temPermisssaoParaAlterar()}" />
				            </ui:fragment>      			   
				                  			   
							<h:commandLink 	id="fichaAntiga"
											styleClass="fichaAntigaLink"
			               				  	value="Clique aqui para visualizar"
			               				  	action="#{pessoaBean.fichaAntiga}"
			               				  	target="_blank"
			               				  	rendered="#{pessoaBean.entidade.ficha != null}" />	                  			   
				                  			   				
			
						</fieldset>
						
					</ui:fragment>	
				
				</rich:tab>
	
	
				<rich:tab header="Característica">
					
					<div class="select-box box-22">
						<label for="">Raça/Cor *</label>
						<div class="conteiner">
							<h:selectOneMenu id="biotipo"
											 converter="entityConverter" 
											 value="#{pessoaBean.entidade.raca}"
											 disabled="#{not pessoaBean.podeAlterar()}">
							  	<f:selectItem id="selecioneRaca"  itemLabel="Selecione..."/>
							  	<f:selectItems 	id="comboRaca" 
							  					value="#{pessoaBean.comboRaca}"
							  					var="biotipo"
							  					itemValue="#{biotipo}"
							  					itemLabel="#{biotipo.descricao}"/>
							</h:selectOneMenu>
						</div>
					</div>
		
					<div class="radios-group box-22">
						<h3>Tipo Sanguíneo</h3>
						<div class="conteiner">
							<div class="radio-box">
							<h:selectOneRadio 	id="tipoSangue" 
												value="#{pessoaBean.entidade.tipoSangue}" 
												disabled="#{not pessoaBean.podeAlterar()}">
								<f:selectItem id="A" itemLabel="A" itemValue="A" />
								<f:selectItem id="B" itemLabel="B" itemValue="B" />
								<f:selectItem id="AB" itemLabel="AB" itemValue="AB" />
								<f:selectItem id="O" itemLabel="O" itemValue="O" />
							</h:selectOneRadio>
							</div>
						</div>
					</div>
		
					<div class="radios-group box-15">
						<h3>Fator RH</h3>
						<div class="conteiner">
							<div class="radio-box">
							<h:selectOneRadio 	id="fatorRH" 
												value="#{pessoaBean.entidade.fatorRH}" 
												disabled="#{not pessoaBean.podeAlterar()}">
								<f:selectItem id="positivo" itemLabel="+" itemValue="+" />
								<f:selectItem id="negativo" itemLabel="-" itemValue="-" />
							</h:selectOneRadio>
							</div>
						</div>
					</div>
					
				</rich:tab>
	
				
				<rich:tab header="Endereço">
				
					<div class="input-box box-10">
						<label for="">CEP *</label>
						<div class="conteiner">
							<h:inputText id="cep" 
										 maxlength="9"
										 styleClass="maskCep"
										 value="#{pessoaBean.entidade.cep}" 
										 disabled="#{not pessoaBean.podeAlterar()}">
								<a4j:ajax 	 event="blur"
							  	             listener="#{pessoaBean.buscarCep()}"
							  	             render="tpLograd, endereco, bairro, ufEndereco, municipioEndereco" />
							</h:inputText>			 
						</div>
					</div>
					
					<div class="select-box box-15">
						<label for="">Tipo Logradouro *</label>
						<div class="conteiner">
							<h:selectOneMenu id="tpLograd"
											 converter="entityConverter"
											 value="#{pessoaBean.entidade.tipoLogradouro}"											 
											 disabled="#{not pessoaBean.podeAlterar() or pessoaBean.cepValido}">
							  	<f:selectItem id="selecionetpLograd" itemLabel="Selecione..."/>
							  	<f:selectItems id="comboTipoLogradouro" 
							  				   value="#{pessoaBean.comboTipoLogradouro}"
							  				   var="tipoLogradouro"
							  				   itemValue="#{tipoLogradouro}"
							  				   itemLabel="#{tipoLogradouro.descricao}"/>							  	
							</h:selectOneMenu>
						</div>
					</div>				
					
					
					<div class="input-box box-50">
						<label for="">Descrição Logradouro *</label>
						<div class="conteiner">
							<h:inputText id="endereco" 
										 maxlength="80"
										 value="#{pessoaBean.entidade.endereco}" 
										 disabled="#{not pessoaBean.podeAlterar() or pessoaBean.cepValido}"/>
						</div>
					</div>
		
					<div class="input-box box-10">
						<label for="">Número *</label>
						<div class="conteiner">
							<h:inputText id="numero" 
										 maxlength="10"
										 value="#{pessoaBean.entidade.numero}" 
										 disabled="#{not pessoaBean.podeAlterar()}"/>
						</div>
					</div>
		
					<div class="input-box box-20 clr">
						<label for="">Complemento</label>
						<div class="conteiner">
							<h:inputText id="complemento" 
										 maxlength="30"
										 value="#{pessoaBean.entidade.complemento}"
										 disabled="#{not pessoaBean.podeAlterar()}" />
						</div>
					</div>
		
					<div class="input-box box-40">
						<label for="">Bairro</label>
						<div class="conteiner">
							<h:inputText id="bairro" 
										 maxlength="60"
										 value="#{pessoaBean.entidade.bairro}" 
										 disabled="#{not pessoaBean.podeAlterar()}"/>
						</div>
					</div>					
		 
					<div class="select-box box-15">
						<label for="">Estado *</label>
						<div class="conteiner">
							<h:selectOneMenu id="ufEndereco"
											 converter="entityConverter" 
											 value="#{pessoaBean.entidade.ufEndereco}"
											 disabled="#{not pessoaBean.podeAlterar() or pessoaBean.cepValido}">
							  	<f:selectItem id="selecioneUfEndereco" itemLabel="Selecione..."/>
							  	<f:selectItems 	id="comboUfEndereco"
							  					value="#{pessoaBean.comboUf}"
							  					var="ufEndereco"
							  					itemValue="#{ufEndereco}"
							  					itemLabel="#{ufEndereco.id}"/>
							  	<a4j:ajax    event="change"							  	            
							  	             render="municipioEndereco" />
							</h:selectOneMenu>
						</div>
					</div>							
					
					<div class="select-box box-25">
						<label for="">Município *</label>
						<div class="conteiner">
							<h:selectOneMenu id="municipioEndereco"
											 converter="entityConverter" 
											 value="#{pessoaBean.entidade.municipioEndereco}"
											 disabled="#{not pessoaBean.podeAlterar() or pessoaBean.cepValido}">
							  	<f:selectItem id="selecioneMunicipioEndereco"  itemLabel="Selecione..."/>
							  	<f:selectItems 	id="comboMunicipioEndereco" 
							  					value="#{pessoaBean.comboMunicipioEndereco}"
							  					var="municipio"
							  					itemValue="#{municipio}"
							  					itemLabel="#{municipio.nome}"/>
							</h:selectOneMenu>
						</div>
					</div>					
				
				</rich:tab>
				
				<rich:tab header="Contato">
				
					<div class="input-box box-20">
						<label for="">Telefone</label>
						<div class="conteiner">
							<h:inputText id="telefone" 
										 maxlength="15"
										 styleClass="maskTelefone"
										 value="#{pessoaBean.entidade.telefone}" 
										 disabled="#{not pessoaBean.podeAlterar()}"/>
						</div>
					</div>
		
					<div class="input-box box-20">
						<label for="">Telefone Alternativo</label>
						<div class="conteiner">
							<h:inputText id="telefoneAlternativo"
										 maxlength="15"
										 styleClass="maskTelefone" 
										 value="#{pessoaBean.entidade.telefoneAlternativo}" 
										 disabled="#{not pessoaBean.podeAlterar()}"/>
						</div>
					</div>
		
					<div class="input-box box-30">
						<label for="">E-mail</label>
						<div class="conteiner">
							<h:inputText id="email" 
										 maxlength="60"
										 value="#{pessoaBean.entidade.email}" 
										 disabled="#{not pessoaBean.podeAlterar()}"/>
						</div>
					</div>
					
					<div class="input-box box-30">
						<label for="">E-mail Alternativo</label> 
						<div class="conteiner">
							<h:inputText id="emailAlternativo" 
										 maxlength="60" 
										 value="#{pessoaBean.entidade.emailAlternativo}" 
										 disabled="#{not pessoaBean.podeAlterar()}"/>
						</div>
					</div>
				
				</rich:tab>
	
		
				<rich:tab header="Documentos">
				
					<div class="input-box box-25">
						<label for="">CPF *</label>
						<div class="conteiner">
							<h:inputText id="cpf" 
										 maxlength="14"
										 styleClass="maskCpf"
										 value="#{pessoaBean.entidade.cpf}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>
					
					<div class="input-box box-25">
						<label for="">PIS/PASEP *</label>
						<div class="conteiner">
							<h:inputText id="pasep" 
										 maxlength="15"
										 styleClass="maskPasep"
										 value="#{pessoaBean.entidade.pasep}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>
		
					<div class="input-box box-25">
						<label for="">Doc. Militar</label>
						<div class="conteiner">
							<h:inputText id="docMilitar" 
										 maxlength="30"
										 onkeyup="mantemSomenteNumeros(this)"
										 value="#{pessoaBean.entidade.documentoMilitar}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>
		
					
					<fieldset class="clr">
		
						<legend>Registro Geral</legend>
					
						<div class="input-box box-25">
							<label for="">RG</label>
							<div class="conteiner">
								<h:inputText id="rg" 
											 maxlength="15"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.rg}" 
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
			
						<div class="input-box box-25">
							<label for="">Emissor</label>
							<div class="conteiner">
								<h:inputText id="emissor" 
											 maxlength="17"
											 value="#{pessoaBean.entidade.emissorRg}" 
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
			
						<div class="select-box box-10">
							<label for="">UF</label>
							<div class="conteiner">
								<h:selectOneMenu id="ufEmissor"
												 converter="entityConverter" 
												 value="#{pessoaBean.entidade.ufEmissorRg}"
												 disabled="#{not pessoaBean.podeAlterar()}">
								  	<f:selectItem id="selecioneUfEmissor" itemLabel="Selecione..."/>
								  	<f:selectItems 	id="comboUfEmissor"
								  					value="#{pessoaBean.comboUf}"
								  					var="ufEmissor"
								  					itemValue="#{ufEmissor}"
								  					itemLabel="#{ufEmissor.id}"/>
								</h:selectOneMenu>
							</div>
						</div>
			
						<div class="input-box box-15">
							<label for="">Data Emissão</label>
							<div class="conteiner">
								<h:inputText id="dataEmissaoRg" 
											 styleClass="maskData"
											 converter="dateConverter"
											 value="#{pessoaBean.entidade.dataEmissaoRg}"  
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
		
					</fieldset>
					
					<fieldset class="clr">
					
						<legend>Registro em Órgão de Classe (OAB, CREA, CRC, etc)</legend>
		 
						<div class="input-box box-15">
							<label for="">Número Inscrição</label>
							<div class="conteiner">
								<h:inputText id="nrOc" 
											 maxlength="14"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.nrOrgaoClasse}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
						
						<div class="input-box box-15">
							<label for="">Órgão Emissor</label>
							<div class="conteiner">
								<h:inputText id="orgaoEmissor" 
											 maxlength="17"
											 value="#{pessoaBean.entidade.emissorOrgaoClasse}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
						
						<div class="select-box box-15">
							<label for="">UF</label>
							<div class="conteiner">
								<h:selectOneMenu id="ufOrgaoClasse"
												 converter="entityConverter" 
												 value="#{pessoaBean.entidade.ufOrgaoClasse}"
												 disabled="#{not pessoaBean.podeAlterar()}">
								  	<f:selectItem id="selecioneUfOrgaoClasse" itemLabel="Selecione..."/>
								  	<f:selectItems 	id="comboUfOrgaoClasse"
								  					value="#{pessoaBean.comboUf}"
								  					var="ufEmissor"
								  					itemValue="#{ufEmissor}"
								  					itemLabel="#{ufEmissor.id}"/>
								</h:selectOneMenu>
							</div>
						</div>
						
						<div class="input-box box-15">
							<label for="">Data Expedição</label>
							<div class="conteiner">
								<h:inputText id="dtExpedOC" 
											 styleClass="maskData"
											 converter="dateConverter"
											 value="#{pessoaBean.entidade.dataExpedicaoOrgaoClasse}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>						
			
						<div class="input-box box-15">
							<label for="">Data Validade</label>
							<div class="conteiner">
								<h:inputText id="dtValidOC" 
											 styleClass="maskData"
											 converter="dateConverter"
											 value="#{pessoaBean.entidade.dataValidadeOrgaoClasse}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>					
								
					</fieldset>
					
					<fieldset class="clr">
					
						<legend>Título de Eleitor</legend>
		 
						<div class="input-box box-25">
							<label for="">Título</label>
							<div class="conteiner">
								<h:inputText id="titulo" 
											 maxlength="12"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.tituloEleitoral}" 
											 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
							</div>
						</div>
			
						<div class="input-box box-25">
							<label for="">Zona</label>
							<div class="conteiner">
								<h:inputText id="zona" 
											 maxlength="4"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.zonaEleitoral}" 
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
			
						<div class="input-box box-25">
							<label for="">Seção</label>
							<div class="conteiner">
								<h:inputText id="secao" 
											 maxlength="4"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.secaoEleitoral}" 
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
								
					</fieldset>
					
					<fieldset class="clr">
					
						<legend>Carteira de Trabalho e Previdência Social</legend>
		 
						<div class="input-box box-15">
							<label for="">Número</label>
							<div class="conteiner">
								<h:inputText id="nrCtps" 
											 maxlength="11"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.nrCTPS}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
						
						<div class="input-box box-15">
							<label for="">Série</label>
							<div class="conteiner">
								<h:inputText id="serieCtps" 
											 maxlength="5"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.serieCTPS}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
						
						<div class="select-box box-15">
							<label for="">UF</label>
							<div class="conteiner">
								<h:selectOneMenu id="ufCtps"
												 converter="entityConverter" 
												 value="#{pessoaBean.entidade.ufCTPS}"
												 disabled="#{not pessoaBean.podeAlterar()}">
								  	<f:selectItem id="selecioneUfCtps" itemLabel="Selecione..."/>
								  	<f:selectItems 	id="comboUfCtps"
								  					value="#{pessoaBean.comboUf}"
								  					var="UfCtps"
								  					itemValue="#{UfCtps}"
								  					itemLabel="#{UfCtps.id}"/>
								</h:selectOneMenu>
							</div>
						</div>		
						
								
					</fieldset>					
					
					<fieldset class="clr">
					
						<legend>Carteira Nacional de Habilitação</legend>
		 
						<div class="input-box box-15">
							<label for="">Número Registro</label>
							<div class="conteiner">
								<h:inputText id="nrRegCnh" 
											 maxlength="12"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.nrCNH}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
						
						<div class="input-box box-15">
							<label for="">Data Emissão</label>
							<div class="conteiner">
								<h:inputText id="dtExped" 
											 styleClass="maskData"
											 converter="dateConverter"
											 value="#{pessoaBean.entidade.dataExpedicaoCNH}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
						
						<div class="select-box box-15">
							<label for="">UF</label>
							<div class="conteiner">
								<h:selectOneMenu id="ufCnh"
												 converter="entityConverter" 
												 value="#{pessoaBean.entidade.ufCNH}"
												 disabled="#{not pessoaBean.podeAlterar()}">
								  	<f:selectItem id="selecioneUfCnh" itemLabel="Selecione..."/>
								  	<f:selectItems 	id="comboUfCnh"
								  					value="#{pessoaBean.comboUf}"
								  					var="ufEmissor"
								  					itemValue="#{ufEmissor}"
								  					itemLabel="#{ufEmissor.id}"/>
								</h:selectOneMenu>
							</div>
						</div>
			
						<div class="input-box box-15">
							<label for="">Data Validade</label>
							<div class="conteiner">
								<h:inputText id="dtValid" 
											 styleClass="maskData"
											 converter="dateConverter"
											 value="#{pessoaBean.entidade.dataValidadeCNH}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>
						
						<div class="input-box box-15">
							<label for="">Data 1ª Habilitação</label>
							<div class="conteiner">
								<h:inputText id="dtPriHab" 
											 styleClass="maskData"
											 converter="dateConverter"
											 value="#{pessoaBean.entidade.dataPrimeiraCNH}"
											 disabled="#{not pessoaBean.podeAlterar()}"/>
							</div>
						</div>						
						
						<div class="select-box box-15">
							<label for="">Categoria</label>							
							<div class="conteiner">
								<h:selectOneMenu id="categoriaCnh"
												 value="#{pessoaBean.entidade.categoriaCNH}"
												 disabled="#{not pessoaBean.podeAlterar()}">
								  	<f:selectItem id="selecioneCategoriaCnh" itemLabel="Selecione..."/>	
								  	<f:selectItems 	id="comboCategoriaCnh" 
								  					value="#{pessoaBean.comboCategoriaCNH}"
								  					var="categoria"
								  					itemLabel="#{categoria}"
								  					itemValue="#{categoria}"/>							  	
								</h:selectOneMenu>
							</div>
						</div>
								
					</fieldset>					
				
				</rich:tab>
	
				<rich:tab header="Dados Bancários" rendered="#{not pessoaBean.ehServidor()}">
				
					<div class="radios-group box-25">
						<h3>Tipo</h3>
						<div class="conteiner">
							<div class="radio-box">
							<h:selectOneRadio 	id="tipoContaBbd" 
												value="#{pessoaBean.entidade.tipoContaBbd}" 
												disabled="#{not pessoaBean.temPermisssaoParaAlterar()}">
								<f:selectItem id="corrente" itemLabel="Conta Corrente" itemValue="1" />
								<f:selectItem id="poupanca" itemLabel="Poupança" itemValue="2" />
							</h:selectOneRadio>
							</div>
						</div>
					</div>
		
					<div class="input-box box-25">
						<label for="">Agência</label>
						<div class="conteiner">
							<h:inputText id="agenciaBbd" 
										 maxlength="6"
										 styleClass="maskAgencia"
										 value="#{pessoaBean.entidade.agenciaBbd}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>
		
					<div class="input-box box-25">
						<label for="">Conta</label>
						<div class="conteiner">
							<h:inputText id="contaBbd" 
										 maxlength="9"
										 styleClass="maskConta"
										 value="#{pessoaBean.entidade.contaBbd}" 
										 disabled="#{not pessoaBean.temPermisssaoParaAlterar()}"/>
						</div>
					</div>
							
				</rich:tab>				
			
			
				<rich:tab header="Dependentes" rendered="#{pessoaBean.ehAlteracao()}">
				
					<ui:fragment rendered="#{pessoaBean.temPermisssaoParaAlterar()}">
						<div class="input-box box-25">
							<label for="">Previdência</label>
							<div class="conteiner">
								<h:inputText id="previdencia" 
											 maxlength="2" required="true" requiredMessage="Previdência é obrigatório"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.qtdDepprev}" 
											 disabled="true"/>
							</div>
						</div>
					
						<div class="input-box box-25">
							<label for="">Imposto de Renda</label>
							<div class="conteiner">
								<h:inputText id="impostoRenda" 
											 maxlength="2" required="true" requiredMessage="Imposto de Renda é obrigatório"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.qtdDepir}" 
											 disabled="true"/>
							</div>
						</div>
						
						
						<div class="input-box box-25">
							<label for="">Salário Família</label>
							<div class="conteiner">
								<h:inputText id="salarioFamilia" 
											 maxlength="2" required="true" requiredMessage="Salário Família é obrigatório"
											 onkeyup="mantemSomenteNumeros(this)"
											 value="#{pessoaBean.entidade.qtdDepsf}" 
											 disabled="true"/>
							</div>
						</div>
					</ui:fragment>
										
					
					<div class="tabela-dados">
					
						<rich:dataTable id="listaDependentes"
										var="dependente"
										value="#{pessoaBean.dependentes}"
										rendered="#{pessoaBean.dependentes.size() > 0}">
										
							<h:column id="col1">
								<f:facet name="header">
									Nome
								</f:facet>
								<h:outputText id="nomeDep" value="#{dependente.dependente.nome}" />							
							</h:column>
							<h:column id="col2">
								<f:facet name="header">
									Tipo Dependência
								</f:facet>
								<h:outputText id="tipoDep" value="#{dependente.tipoDependencia.descricao}" />							
							</h:column>
							<h:column id="col3">
								<f:facet name="header">
									Dt. Nasc.
								</f:facet>
								<center>									
									<h:outputText id="item3" value="#{dependente.dependente.nascimento}" styleClass="cel-15" >
			                        	<f:convertDateTime id="dtNascDep" type="date" pattern="dd/MM/yyyy" />
			                        </h:outputText>
								</center>							
							</h:column>
							<h:column id="col4">
								<f:facet name="header">
									Dt. Saída
								</f:facet>
								<center>
									<h:outputText id="item4" value="#{dependente.dataFim}" styleClass="cel-15" >
			                        	<f:convertDateTime id="dtFimDep" type="date" pattern="dd/MM/yyyy" />
			                        </h:outputText>
								</center>							
							</h:column>	
							<h:column id="col5" class="center" >
								<f:facet name="header">
									Dep Prev									
								</f:facet>
								<center>						
									<h:selectBooleanCheckbox id="depPrev" value="#{dependente.depPrev}" disabled="true" />
								</center>								
							</h:column>
							<h:column id="col6" styleClass="center">
								<f:facet name="header">
									Dep IR
								</f:facet>
								<center>
									<h:selectBooleanCheckbox id="depIR" value="#{dependente.depIr}" disabled="true" />
								</center>							
							</h:column>												
						</rich:dataTable>
						
						<br />
						
						<div class="box-100 mg-top-15">
						
							<div class="box-75 fl">
								<p style="font-size: 1.2em; font-style: italic; line-height: 1.3em; color: #555;"><b style="font-size: inherit;">Importante!</b> Caso haja divergências nas informações acima, preencher o "Formulário de Dependentes", 
								constante no link ao lado, e entregar na Gerência de Atos Funcionais anexando a documentação de identificação do(s) Dependente(s), informando também, o TIPO DE DEPENDÊNCIA.</p>
							</div>
						
							<h:commandButton id="formularioDependentes"
								 value="Formulário de Dependentes"
								 action="#{pessoaBean.formularioDependentes}" 
								 styleClass="bt-padrao fr mg-top-5" />
						</div>		 
					
					</div>
	
				</rich:tab>
				
			
			</rich:tabPanel>	
			
			<div class="bt-conteiner">				
				
				<ui:fragment rendered="#{pessoaBean.cadastroAindaNaoFinalizado()}">
					<a onclick="finalizaRecadastramento();" href="#" class="bt-padrao fr">Finalizar</a>
					<a4j:jsFunction name="finalizarRecadastramento" action="#{pessoaBean.salvar(true)}" render="form">
					</a4j:jsFunction> 
				</ui:fragment>
				
				<ui:fragment rendered="#{pessoaBean.podeAlterar()}">								
					<h:commandButton id="salvar" action="#{pessoaBean.salvar(false)}" value="Salvar" styleClass="bt-padrao fr mg-right-10"  />
				</ui:fragment>
				
				<a href="/srh/paginas/cadastros/pessoaList.faces" class="bt-voltar fr mg-right-10 mg-bottom-10">Voltar</a>
				
			</div>			
			
		</h:form>

	</ui:define>
	
</ui:composition>
