<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="content">

		<style>
.formularios fieldset, .box-border {
	border: 1px solid #c6c6c6;
	padding: 15px 15px 0px 15px;
	padding-right: 0;
	overflow: auto;
	margin-bottom: 10px;
	min-height: 100px;
}

.formularios fieldset fieldset {
	min-height: auto;
	width: max-content;
}
</style>

		<script>
			jQuery(document).ready(function($) {
				contarCaracteres();
			});
			function contarCaracteres() {
				document.getElementById('countChar').innerHTML = 'Quantidade de caracteres: '
						+ (document.getElementById('form:observacao').value.length);
			}
		</script>

		<div class="titulo-pagina">

			<h2>Cadastro de Processo</h2>

		</div>

		<h:form id="form" styleClass="formularios">

			<fieldset>

				<h:messages id="messages" infoClass="infoMessage"
					errorClass="errorMessage" />

				<div class="input-box box-10">
					<label for="">ID</label>
					<div class="conteiner">
						<h:inputText disabled="true"
							value="#{processoESocialFormBean.entidade.id}" />
					</div>
				</div>

				<div class="select-box box-30">
					<label for="">Tipo de Processo *</label>
					<div class="conteiner">
						<h:selectOneMenu id="tipoProcesso"
							value="#{processoESocialFormBean.entidade.tipoProcesso}"
							required="true"
							requiredMessage="O Tipo de Processo é obrigatório.">
							<f:selectItem id="selecioneTipoProcesso" itemLabel="Selecione..." />
							<f:selectItems id="comboTipoProcesso"
								value="#{processoESocialFormBean.comboTipoProcesso}" var="tipo"
								itemLabel="#{tipo.descricao}" itemValue="#{tipo}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="input-box box-20">
					<label for="">Número *</label>
					<div class="conteiner">
						<h:inputText id="numero"
							value="#{processoESocialFormBean.entidade.numero}" maxlength="21"
							required="true"
							requiredMessage="O Número do Processo é obrigatório." />
					</div>
				</div>


				<div class="select-box box-40 clr">
					<label for="">Indicativo Autoria</label>
					<div class="conteiner">
						<h:selectOneMenu id="indicativoAutoria"
							value="#{processoESocialFormBean.entidade.indicativoAutoria}">
							<f:selectItem id="selecioneIndicativoAutoria"
								itemLabel="Selecione..." />
							<f:selectItems id="comboIndicativoAutoria"
								value="#{processoESocialFormBean.comboIndicativoAutoria}"
								var="autoria" itemLabel="#{autoria.descricao}"
								itemValue="#{autoria}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="select-box box-40">
					<label for="">Indicativo Matéria *</label>
					<div class="conteiner">
						<h:selectOneMenu id="indicativoMateria"
							value="#{processoESocialFormBean.entidade.indicativoMateria}"
							required="true"
							requiredMessage="O Indicativo de Matéria é obrigatório.">
							<f:selectItem id="selecioneIndicativoMateria"
								itemLabel="Selecione..." />
							<f:selectItems id="comboIndicativoMateria"
								value="#{processoESocialFormBean.comboIndicativoMateria}"
								var="materia" itemLabel="#{materia.descricao}"
								itemValue="#{materia}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="textarea-box box-100">
					<label for="">Observação</label>
					<div class="conteiner">
						<h:inputTextarea id="observacao"
							value="#{processoESocialFormBean.entidade.observacao}"
							validatorMessage="O campo Observação excedeu o tamanho máximo de 255 caracteres"
							onkeyup="contarCaracteres();">
							<f:validateLength maximum="255" />
						</h:inputTextarea>
					</div>
					<label id="countChar" style="margin-top: 2px; font-size: 11px;"></label>
				</div>

				<fieldset class="fl box-60 mg-right-15">
					
					<legend>Informações Complementares de Processo Judicial</legend>
					
					<div class="select-box box-20">
						<label for="">UF</label>
						<div class="conteiner">
							<h:selectOneMenu id="uf" converter="entityConverter"
								value="#{processoESocialFormBean.uf}">
								<f:selectItem id="selecioneUf" itemLabel="Selecione..." />
								<f:selectItems id="comboUf"
									value="#{processoESocialFormBean.comboUf}" var="uf"
									itemValue="#{uf}" itemLabel="#{uf.id}" />
								<a4j:support id="comboUfAction" event="onchange"
									reRender="municipio" ajaxSingle="true"/>
							</h:selectOneMenu>
						</div>
					</div>

					<div class="select-box box-50">
						<label for="">Município</label>
						<div class="conteiner">
							<h:selectOneMenu id="municipio" converter="entityConverter"
								value="#{processoESocialFormBean.entidade.municipioVara}">
								<f:selectItem id="selecioneMunicipio" itemLabel="Selecione..." />
								<f:selectItems id="comboMunicipio"
									value="#{processoESocialFormBean.comboMunicipio}"
									var="municipio" itemValue="#{municipio}"
									itemLabel="#{municipio.nome}" />
							</h:selectOneMenu>
						</div>
					</div>

					<div class="input-box box-20">
						<label for="">ID Vara</label>
						<div class="conteiner">
							<h:inputText id="nome"
								value="#{processoESocialFormBean.entidade.idVara}" maxlength="4"
								onkeyup="mantemSomenteNumeros(this)" />
						</div>
					</div>

				</fieldset>

				<fieldset class="fl">

					<legend>Período de vigência</legend>

					<div class="input-box box-50">
						<label for="">Início *</label>
						<div class="conteiner">
							<h:inputText id="dataInicio" name="dataInicio"
								styleClass="maskData" converter="dateConverter"
								value="#{processoESocialFormBean.entidade.inicioValidade}"
								maxlength="10" required="true"
								requiredMessage="O início da vigência é obrigatório." />
						</div>
					</div>

					<div class="input-box box-50">
						<label for="">Fim</label>
						<div class="conteiner">
							<h:inputText id="dataFim" name="dataFim" styleClass="maskData"
								converter="dateConverter"
								value="#{processoESocialFormBean.entidade.fimValidade}"
								maxlength="10" />
						</div>
					</div>

				</fieldset>

			</fieldset>

			<ui:fragment rendered="#{true}">

				<h:commandButton value="Salvar"
					action="#{processoESocialFormBean.salvar}"
					styleClass="bt-padrao fr" />

				<a href="/srh/paginas/tabelas/processoESocialForm.faces"
					class="bt-padrao fr mg-right-10">Limpar</a>

			</ui:fragment>

			<a href="/srh/paginas/tabelas/processoESocialList.faces"
				class="bt-padrao fr mg-right-10">Voltar</a>

		</h:form>

	</ui:define>
</ui:composition>
