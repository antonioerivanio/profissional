<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j">

	<ui:define name="content">

		<style>
			.formularios fieldset, .box-border {
				border: 1px solid #c6c6c6;
				padding: 15px 15px 0px 15px;
				padding-right: 0;
				overflow: auto;
				margin-bottom: 10px;
				min-height: 100px;
			}
		</style>

		<div class="titulo-pagina">

			<h2>Cadastro de Cargo</h2>

		</div>

		<h:form styleClass="formularios">
			
			<ui:include src="../../WEB-INF/templates/esocial-legenda.xhtml" />
			
			<fieldset>
	<br/>
				<h:messages infoClass="infoMessage" errorClass="errorMessage" />

				
				<br />

				<div class="input-box box-10">
					<label for="">ID</label>
					<div class="conteiner">
						<h:inputText disabled="true" value="#{cargoFormBean.entidade.id}" />
					</div>
				</div>

				<div class="input-box box-30">
					<label for="">Nomenclatura * <span class="identificador-esocial">(e)</span></label>
					<div class="conteiner">
						<h:inputText id="nomenclatura"
							value="#{cargoFormBean.entidade.nomenclatura}" maxlength="100"
							required="true" requiredMessage="A nomenclatura é obrigatória." />
					</div>
				</div>

				<div class="select-box box-20">
					<label for="">Tipo Ocupação *</label>
					<div class="conteiner">
						<h:selectOneMenu id="tipoOcupacao"
							value="#{cargoFormBean.entidade.tipoOcupacao}"
							converter="entityConverter" required="true"
							requiredMessage="A ocupação é obrigatória.">
							<f:selectItem id="selecioneTipoOcupacao" itemLabel="Selecione..." />
							<f:selectItems id="comboTipoOcupacao"
								value="#{cargoFormBean.comboTipoOcupacao}" var="tipoOcupacao"
								itemValue="#{tipoOcupacao}"
								itemLabel="#{tipoOcupacao.descricao}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="radios-group box-40">
					<h3>Situação *</h3>
					<div class="conteiner">
						<div class="radio-box">
							<h:selectOneRadio id="situacao"
								value="#{cargoFormBean.entidade.situacao}" required="true"
								requiredMessage="A situação é obrigatória.">
								<f:selectItem id="normal" itemLabel="Normal" itemValue="1" />
								<f:selectItem id="vagar" itemLabel="Extinto ao Vagar"
									itemValue="2" />
								<f:selectItem id="extinto" itemLabel="Extinto" itemValue="3" />
								<f:selectItem id="transicao" itemLabel="Em Transição"
									itemValue="4" />
							</h:selectOneRadio>
						</div>
					</div>
				</div>

				<div class="box-100 fl">

					<div class="select-box box-25">
						<label for="">Escolaridade *</label>
						<div class="conteiner">
							<h:selectOneMenu id="escolaridade"
								value="#{cargoFormBean.entidade.escolaridade}"
								converter="entityConverter" required="true"
								requiredMessage="A escolaridade é obrigatória.">
								<f:selectItem id="selecioneEscolaridade"
									itemLabel="Selecione..." />
								<f:selectItems id="comboEscolaridade"
									value="#{cargoFormBean.comboEscolaridade}" var="escolaridade"
									itemValue="#{escolaridade}"
									itemLabel="#{escolaridade.descricao}" />
							</h:selectOneMenu>
						</div>
					</div>

					<div class="radios-group box-15">
						<h3>Cargo Isolado</h3>
						<div class="conteiner">
							<div class="radio-box">
								<h:selectBooleanCheckbox
									value="#{cargoFormBean.entidade.cargoIsolado}" />
							</div>
						</div>
					</div>

					<div class="input-box box-10">
						<label for="">Vagas *</label>
						<div class="conteiner">
							<h:inputText id="vagas"
								value="#{cargoFormBean.entidade.quantidade}" maxlength="3"
								onkeyup="SoNumeros(this)" required="true"
								requiredMessage="A quantidade de vagas é obrigatória." />
						</div>
					</div>

					<div class="input-box box-15">
						<label for="">Referência Inicial</label>
						<div class="conteiner">
							<h:inputText id="referenciaInicial"
								value="#{cargoFormBean.entidade.referenciaInicial}"
								maxlength="2" onkeyup="SoNumeros(this)" />
						</div>
					</div>

					<div class="input-box box-15">
						<label for="">Referência Final</label>
						<div class="conteiner">
							<h:inputText id="referenciaFinal"
								value="#{cargoFormBean.entidade.referenciaFinal}" maxlength="2"
								onkeyup="SoNumeros(this)" />
						</div>
					</div>
				</div>
				
				<div class="input-box box-15">
					<label for="">Código * <span class="identificador-esocial">(e)</span></label>
					<div class="conteiner">
						<h:inputText id="codigoEsocial"
							value="#{cargoFormBean.entidade.codigoEsocial}" 
							maxlength="30"
							required="true"
							requiredMessage="O código é obrigatória." />
					</div>
				</div>

				<div class="input-box box-10">
					<label for="">CBO * <span class="identificador-esocial">(e)</span></label>
					<div class="conteiner">
						<h:inputText id="cbo" value="#{cargoFormBean.entidade.cbo}"
							maxlength="6" required="true" requiredMessage="O CBO é obrigatória."
							onkeyup="mantemSomenteNumeros(this)"  />
					</div>
				</div>

				<div class="select-box box-20">
					<label for="">Acumulação * <span class="identificador-esocial">(e)</span></label>
					<div class="conteiner">
						<h:selectOneMenu id="acumulacao" required="true" requiredMessage="A acumulação é obrigatória."
							value="#{cargoFormBean.entidade.tipoAcumulacao}">
							<f:selectItem id="selecioneAcumulacao" itemLabel="Selecione..." />
							<f:selectItems id="comboAcumulacao"
								value="#{cargoFormBean.comboTipoAcumulo}" var="acumulo"
								itemLabel="#{acumulo.descricao}" itemValue="#{acumulo}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="select-box box-30">
					<label for="">Contagem Especial * <span class="identificador-esocial">(e)</span></label>
					<div class="conteiner">
						<h:selectOneMenu id="contagemEsp" required="true" requiredMessage="A contagem especial é obrigatória."
							value="#{cargoFormBean.entidade.tempoEspecial}">
							<f:selectItem id="selecioneContagemEsp" itemLabel="Selecione..." />
							<f:selectItems id="comboContagemEsp"
								value="#{cargoFormBean.comboContagemEspecial}" var="contagemEsp"
								itemLabel="#{contagemEsp.descricao}" itemValue="#{contagemEsp}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="select-box box-20">
					<label for="">Dedicação Exclusiva * <span class="identificador-esocial">(e)</span></label>
					<div class="conteiner">
						<h:selectOneMenu id="dedex" required="true" requiredMessage="A dedicação exclusiva é obrigatória."
							value="#{cargoFormBean.entidade.dedicacaoExclusiva}">
							<f:selectItem id="dedex0" itemLabel="Selecione..." itemValue="" />
							<f:selectItem id="dedex1" itemLabel="Sim" itemValue="S" />
							<f:selectItem id="dedex2" itemLabel="Não" itemValue="N" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="box-100 fl">

					<fieldset class="fl mg-right-15">

						<legend>Lei <span class="identificador-esocial">(e)</span></legend>

						<div class="input-box box-30">
							<label for="">Lei *</label>
							<div class="conteiner">
								<h:inputText id="numerolei" required="true" requiredMessage="A lei é obrugatória."
									value="#{cargoFormBean.entidade.lei}" maxlength="12"/>
							</div>
						</div>

						<div class="input-box box-30">
							<label for="">Data *</label>
							<div class="conteiner">
								<h:inputText id="dataLei" styleClass="maskData" required="true" 
									requiredMessage="A data é obrugatória."
									converter="dateConverter"
									value="#{cargoFormBean.entidade.dataLei}" maxlength="10">
								</h:inputText>
							</div>
						</div>

						<div class="select-box box-40">
							<label for="">Situação *</label>
							<div class="conteiner">
								<h:selectOneMenu id="situacaoLei" required="true" requiredMessage="A situação é obrugatória."
									value="#{cargoFormBean.entidade.situacaoLei}" >
									<f:selectItem id="selecioneSituacaoLei"
										itemLabel="Selecione..." />
									<f:selectItems id="comboSituacaoLei"
										value="#{cargoFormBean.comboSituacaoLei}" var="situacaoLei"
										itemLabel="#{situacaoLei.descricao}"
										itemValue="#{situacaoLei}" />
								</h:selectOneMenu>
							</div>
						</div>

					</fieldset>


					<ui:include src="../../WEB-INF/templates/esocial-vigencia.xhtml">
					  <ui:param name="vigencia" value="#{cargoFormBean.entidade.esocialVigencia}" />
					</ui:include>

				</div>

			</fieldset>			

			<fieldset>

				<legend>Especialidade</legend>

				<br />

				<div class="select-box box-75">
					<label for="">Especialidade</label>
					<div class="conteiner">
						<h:selectOneMenu id="especialidade" converter="entityConverter"
							value="#{cargoFormBean.entidadeEspecialidade.especialidade}">
							<f:selectItem id="selecioneEspecialidade"
								itemLabel="Selecione..." />
							<f:selectItems id="comboEspecialidade"
								value="#{cargoFormBean.comboEspecialidade}" var="especialidade"
								itemValue="#{especialidade}"
								itemLabel="#{especialidade.descricao}" />
						</h:selectOneMenu>
					</div>
				</div>

				<h:commandButton 
					action="#{cargoFormBean.addEspecialidade}"
					value="Adicionar" 
					styleClass="bt-padrao fl mg-top-18" />

				<div class="tabela-dados">

					<h:dataTable 
						id="listaEspecialidade" 
						border="1" 
						var="item"
						value="#{cargoFormBean.listaEspecialidade}" 
						rowIndexVar="row"
						render="#{cargoFormBean.listaEspecialidade > 0}"
						>

						<h:column id="col1" headerClass="cel-75">
							<f:facet name="header">
                            Especialidade
                        </f:facet>
							<h:outputText 
								id="item1" 
								value="#{item.especialidade.descricao}"
								styleClass="cel-75" />
						</h:column>
						<h:column id="col2">
							<f:facet name="header">
                            EXCLUIR
                        </f:facet>
							<h:commandLink 
								id="excluirEspecialidade" 
								value="Excluir"
								action="#{cargoFormBean.excluirEspecialidade}"
								styleClass="ico-delete"
								onclick="var x= confirm('Deseja realmente excluir o registro?');if(!x){return false;}">
								<f:setPropertyActionListener target="#{cargoFormBean.entidadeEspecialidade}" value="#{item}" />
							</h:commandLink>
						</h:column>

					</h:dataTable>

				</div>

			</fieldset>


			<!-- Simbologia -->
			<fieldset>

				<legend>Simbologia</legend>

				<br />

				<div class="input-box box-75">
					<label for="">Simbologia</label>
					<div class="conteiner">
						<h:inputText 
							id="simbologia" 
							value="#{cargoFormBean.simbologia}"
							maxlength="5" />
					</div>
				</div>

				<h:commandButton 
					action="#{cargoFormBean.addSimbologia}"
					value="Adicionar" 
					styleClass="bt-padrao fl mg-top-18" />

				<div class="tabela-dados">

					<h:dataTable 
						id="listaSimbolo" 
						border="1" 
						var="item"
						value="#{cargoFormBean.listaSimbolo}" 
						rowIndexVar="row">

						<h:column id="col3" headerClass="cel-75">
							<f:facet name="header">
								<h:outputText value="Simbologia" />
							</f:facet>
							<h:outputText id="item3" value="#{item.simbolo}" styleClass="cel-75" />
						</h:column>
						<h:column id="col4">
							<f:facet name="header">
                            EXCLUIR
                        </f:facet>
							<h:commandLink 
								id="excluirSimbologia" 
								value="Excluir"
								action="#{cargoFormBean.excluirSimbologia}"
								styleClass="ico-delete"
								onclick="var x= confirm('Deseja realmente excluir o registro?');if(!x){return false;}">
								<f:setPropertyActionListener target="#{cargoFormBean.entidadeSimbolo}" value="#{item}" />
							</h:commandLink>
						</h:column>

					</h:dataTable>

				</div>

			</fieldset>


			<h:commandButton 
				action="#{cargoFormBean.salvar}" 
				value="Salvar"
				styleClass="bt-padrao fr" />
			<a href="/srh/paginas/tabelas/cargoList.faces" class="bt-voltar fr mg-right-10">Voltar</a>

		</h:form>

	</ui:define>
</ui:composition>
