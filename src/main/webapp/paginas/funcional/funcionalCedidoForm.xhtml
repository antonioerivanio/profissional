<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../WEB-INF/templates/page.xhtml"
	  xmlns="http://www.w3.org/1999/xhtml"      
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
 	  xmlns:c="http://java.sun.com/jsp/jstl/core"
 	  xmlns:a4j="http://richfaces.org/a4j"
 	  xmlns:rich="http://richfaces.org/rich" >

	<ui:define name="content">
		<script type="text/javascript" charset="ISO-8859-1">
		function openwindow()
		{	
			nome = document.getElementById('form:nomeCompletoPessoa').value;
			if (nome.length > 2) {
				window.open("/srh/paginas/funcional/funcionalConsulta.faces?nome=" + nome,"mywindow","scrollbars=1,menubar=0,resizable=0,width=800,height=300");
			} else {
				alerta('Digite pelo menos 3 caracteres para a pesquisa.');
			}
		}

		</script>
		
		<div class="titulo-pagina">

			<h2> Funcional Cedidos </h2>

		</div>

		<h:form id="form" styleClass="formularios" >

			<fieldset>

			<legend>Funcinal Cedidos</legend>

			<br/>
		

           <div class="select-box box-100">
	          	 <label for="">Servidor *</label>
					<div class="conteiner">
						<rich:select id="servidor"	
									 required="true" requiredMessage="Servidor é obrigatorio"								
									 converter="entityConverter"									 
									 value="#{funcionalCedidoFormBean.afastamentoFormBean.servidorFuncional}"
									 listWidth="800"
									 enableManualInput="true"
									 defaultLabel="Digite o nome do servidor"									 
									 >
						  	<f:selectItem id="selecioneServidor" itemLabel="Selecione..."/>
						  	<f:selectItems 	id="comboServidor"
						  					value="#{funcionalCedidoFormBean.afastamentoFormBean.servidorEnvioList}"
						  					var="servidor"
						  					itemValue="#{servidor}"
						  					itemLabel="#{servidor.nome}"/>
						  
						</rich:select>
					</div>
				
           			<label for="">Código Categoria *</label>
					<div class="conteiner">					
						<h:selectOneMenu id="codCateg"		
										 required="true" requiredMessage="Categoria é obrigatorio"									
										 value="#{funcionalCedidoFormBean.entidade.codigoCategoria}"
										 converter="entityConverter" 
										 >
							<f:selectItem id="selecioneCODCATEG" itemLabel="Selecione..." itemValue="" />
						   	<f:selectItems id="comboCODCATEG" 
						   				   value="#{funcionalCedidoFormBean.comboCodCateg}"
						   				   var="codCateg"
						   				   itemValue="#{codCateg}"
						   				   itemLabel="#{codCateg.codigo} - #{codCateg.descricao}"/>		
							
						</h:selectOneMenu>
					</div>
				</div>
				
				<div class="select-box box-50">
					<label for="">Orgão Cedente * </label>
					<div class="conteiner">
						<h:selectOneMenu id="orgaoOrigemasdas"	
										required="true" requiredMessage="Órgão é obrigatorio"									 
										 value="#{funcionalCedidoFormBean.entidade.pessoaJuridica}"
										  converter="entityConverter" >
							<f:selectItem id="selecioneOrgaoOrigemsada" itemLabel="Selecione..." itemValue="" />
						   	<f:selectItems id="comboLeiOrgaoOrigemasdas" 
						   				   value="#{funcionalCedidoFormBean.comboEmpresasCadastradas}"
						   				   var="orgaoOrigem"
						   				   itemValue="#{orgaoOrigem}"
						   				   itemLabel="#{orgaoOrigem.nomeFantasia} - #{orgaoOrigem.razaoSocial}"/>
							<a4j:ajax event="change"
						   			  listener="#{funcionalCedidoFormBean.setCnpjPessoaJuridicaChange()}" 
								 	  execute="@this" render="fcCadCnpj"></a4j:ajax>						   			
						</h:selectOneMenu>
					</div>
				</div>
	 			
	 			<div class="input-box box-15">
					<label for="">CNPJ cedente *</label>
					<div class="conteiner">
						<h:inputText id="fcCadCnpj"
									 required="true" requiredMessage="Cnpj é obrigatorio"		
									 maxlength="10"									 
									 styleClass="maskCnpj"
									 value="#{funcionalCedidoFormBean.pessoaJuridica.cnpj}">
						</h:inputText>
					</div>
				</div>
				
				<div class="input-box box-15">
				<label for="">Matricula de Origem *</label>
				<div class="conteiner">
					<h:inputText id="fcMatOrigem"
								 required="true" requiredMessage="Matricula é obrigatorio"		
								 name="matOrigem"								 
								 maxlength="30"								 
								 value="#{funcionalCedidoFormBean.entidade.matricOrig}" 
								 >
					</h:inputText>
				</div>
			</div>
				
				<div class="input-box box-15">
				<label for="">Data de Admissão *</label>
				<div class="conteiner">
					<h:inputText id="fcDataAdmin"
								 required="true" requiredMessage="Data é obrigatorio"
								 name="data admicao"
								 converter="dateConverter"
								 styleClass="maskData"
								 maxlength="10"
								 value="#{funcionalCedidoFormBean.entidade.dtAdmCed}" 
								>
					</h:inputText>
				</div>
			</div>
			
			<div class="radios-group box-25">
				<label for="">Regime Trabalhista</label>
				<div class="conteiner">
					<div class="radio-box">
					<h:selectOneRadio id="regimeTrab" 
									  disabled="#{funcionalCedidoFormBean.nomeacaoServidorFormBean.tpOcupacaoCargoComissionado or not funcionalCedidoFormBean.nomeacaoServidorFormBean.exibirTodosOsCampos}" 
									  value="#{funcionalCedidoFormBean.entidade.funcional.regime}" >
						<f:selectItem itemLabel="CLT" itemValue="1" />
						<f:selectItem itemLabel="Estatutário" itemValue="2" />
					</h:selectOneRadio>
					</div>
				</div>
			</div>
			
			<div class="radios-group box-75">
				<label for="">Regime Previdenciário</label>
				<div class="conteiner">
					<div class="radio-box">
					<h:selectOneRadio id="regimePrev" 									   
									  value="#{funcionalCedidoFormBean.entidade.funcional.previdencia}" >
						<f:selectItem itemLabel="RGPS" itemValue="1" />
						<f:selectItem itemLabel="RPPS ou Sistema de Proteção Social dos Militares" itemValue="2" />
						<f:selectItem itemLabel="Regime de Previdência Social no exterior" itemValue="3" />
					</h:selectOneRadio>
					</div>
				</div>
			</div>
            
			</fieldset>
			
			
			<h:commandButton actionListener="#{funcionalCedidoFormBean.salvar}" value="Salvar" styleClass="bt-padrao fr mg-right-10" />
			<h:commandButton value="Voltar" styleClass="bt-voltar fr mg-right-10 mg-bottom-10" action="#{funcionalCedidoFormBean.voltar}" immediate="true"/>
		</h:form>

	</ui:define>
</ui:composition>